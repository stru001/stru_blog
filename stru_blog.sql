/*
Navicat MySQL Data Transfer

Source Server         : baidu_Cloud
Source Server Version : 50716
Source Host           : 182.61.51.120:3306
Source Database       : stru_blog

Target Server Type    : MYSQL
Target Server Version : 50716
File Encoding         : 65001

Date: 2018-08-28 14:37:20
*/

SET FOREIGN_KEY_CHECKS=0;

-- ----------------------------
-- Table structure for article
-- ----------------------------
DROP TABLE IF EXISTS `article`;
CREATE TABLE `article` (
  `art_id` int(11) NOT NULL AUTO_INCREMENT,
  `art_title` varchar(100) DEFAULT NULL,
  `art_tag` varchar(100) DEFAULT NULL,
  `art_description` varchar(255) DEFAULT NULL,
  `art_thumb` varchar(255) DEFAULT NULL,
  `art_content` text,
  `art_time` int(11) DEFAULT NULL,
  `art_editor` varchar(50) DEFAULT NULL,
  `art_view` int(11) DEFAULT '0',
  `cate_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`art_id`)
) ENGINE=InnoDB AUTO_INCREMENT=26 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of article
-- ----------------------------
INSERT INTO `article` VALUES ('19', 'preg_replace_callback   用法实例', 'preg_replace_callback', 'preg_replace_callback   用法实例', 'uploads/20170830161240604.jpg', '<p>&lt;?php</p><p>header(&quot;Content-type:text/html;charset=utf8&quot;);</p><p><br/></p><p>$str = &quot;扒乐秀app是一款深层次的美女视频秀场平台。扒乐秀app上的美女主播都比较开放热情，所以你可以看到很多非常有看点的福利直播视频哦！&lt;/p&gt;&lt;p&gt;软件介绍&lt;/p&gt;&lt;p&gt;　　扒乐秀app是一款老司机福利视频交友平台。我们不玩虚拟，提倡真实交友，清新校园风，萝莉萌妹子，知性文青范，性感火辣舞女郎，搞笑逗咖达达秀,总有一个让你怦然星动。花样示爱让心仪美女主播不再遥不可及。&lt;/p&gt;&lt;p&gt;&lt;img src=\\&quot;/d/file/20170525/59264e2623778638111495682598.jpg\\&quot;&gt;&lt;/p&gt;&lt;p&gt;软件优势&lt;/p&gt;&lt;p&gt;　　1、直播交友：表爱慕，送么么、送礼物、做管理、做粉丝、花样示爱，让心仪美女主播不再遥不可及。&lt;/p&gt;&lt;p&gt;　　2、惊喜活动：精彩纷呈的各类活动，丰富多样的豪礼大奖，让您惊喜不断，趣味常伴。&lt;/p&gt;&lt;p&gt;　　3、主播云集：清新校园风，萝莉萌妹子，知性文青范，性感火辣舞女郎，搞笑逗咖达达秀,总有一个让你怦然星动。&lt;/p&gt;&lt;p&gt;　　4、快速搭讪：我们不玩虚拟，提倡真实交友，真实信息联系方式一应俱全，轻松约会简单上手。&lt;/p&gt;&lt;p&gt;&lt;img src=\\&quot;/d/file/20170525/59264e2623cb3416891495682598.jpg\\&quot;&gt;&lt;/p&gt;&quot;;</p><p><br/></p><p>$line = preg_replace_callback(</p><p>&nbsp; &nbsp; &quot;/&lt;img.*?src=[\\&quot;|\\\\&#39;]?(.*?(?:[\\.jpg|\\.jpeg|\\.png|\\.gif|\\.bmp]))[\\&quot;|\\\\&#39;].*?[\\/]?&gt;/i&quot;,</p><p>&nbsp; &nbsp; function ($matches) {</p><p>&nbsp; &nbsp; <span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>$tmpPath = dirname($matches[1]);</p><p>&nbsp; &nbsp; <span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>$tmpName = basename($matches[1]);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>$matches[1] = &#39;&lt;img src=&quot;&#39;.$tmpPath.&#39;/&#39;.&#39;stru&#39;.$tmpName.&#39;&quot;&gt;&#39;;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>return $matches[1];</p><p>&nbsp; &nbsp; },</p><p>&nbsp; &nbsp; $str</p><p>);</p><p>echo $line;</p><p><br/></p>', '1504080788', 'stru', '50', '4');
INSERT INTO `article` VALUES ('20', '浏览器打开本地exe可执行文件，兼容各种浏览器', '浏览器打开本地exe   兼容各种浏览器', '浏览器打开本地exe可执行文件，兼容各种浏览器', 'uploads/20170906095036443.png', '<p>一、HTML代码：</p><p>&lt;!DOCTYPE html&gt;</p><p>&lt;html&gt;</p><p>&lt;head&gt;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>&lt;title&gt;openFile&lt;/title&gt;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>&lt;meta charset=&quot;UTF-8&quot;&gt;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>&lt;style type=&quot;text/css&quot; media=&quot;screen&quot;&gt;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>.main{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>height: 650px;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>width: 100%;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>border: solid 1px gray;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>.main h1{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>text-align: center;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>.content{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>height: 300px;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>width: 800px;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>margin:auto;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>margin-top:100px;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>border:solid 1px gray;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>.vn{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>display: block;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>margin: auto;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>margin-top: 140px;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>margin-left:280px;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>text-decoration:none;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>.notice{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>font-size: 12px;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>color: red;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>&lt;/style&gt;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>&lt;script src=&quot;../public/jquery.min.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</p><p>&lt;/head&gt;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span></p><p>&lt;/style&gt;</p><p>&lt;body&gt;</p><p>&lt;div class=&quot;main&quot;&gt;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>&lt;h1&gt;TMS中心端远程VNC测试&lt;/h1&gt;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>&lt;div class=&quot;content&quot;&gt;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span> &nbsp; &lt;a class=&quot;vn&quot; href=&quot;myprotocol://&quot; title=&quot;需要先配置注册表并执行后可以使用&quot;&gt;开启VNC控制</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span> &nbsp; <span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>&lt;span class=&quot;notice&quot;&gt;(需要先配置注册表并执行后可以使用)&lt;/span&gt;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span> &nbsp; &lt;/a&gt;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>&lt;/div&gt;</p><p>&lt;/div&gt;</p><p>&lt;/body&gt;</p><p>&lt;/html&gt;</p><p><br/></p><p><br/></p><p>二、注册表代码：</p><p>Windows Registry Editor Version 5.00</p><p><br/></p><p>[HKEY_CLASSES_ROOT\\myprotocol]</p><p>@=&quot;myprotocol Protocol&quot;</p><p>&quot;URL Protocol&quot;=&quot;&quot;</p><p><br/></p><p>[HKEY_CLASSES_ROOT\\myprotocol\\DefaultIcon]</p><p>;配置VNC安装路径</p><p>@=&quot;D:\\\\VNC\\\\vncviewer.exe&quot;</p><p><br/></p><p>[HKEY_CLASSES_ROOT\\myprotocol\\shell]</p><p>@=&quot;&quot;</p><p><br/></p><p>[HKEY_CLASSES_ROOT\\myprotocol\\shell\\open]</p><p>@=&quot;&quot;</p><p><br/></p><p>[HKEY_CLASSES_ROOT\\myprotocol\\shell\\open\\command]</p><p>;配置VNC安装路径</p><p>@=&quot;\\&quot;D:\\\\VNC\\\\vncviewer.exe\\&quot; &quot;</p><p><br/></p><p><br/></p><p>三、bat代码：</p><p>@echo on</p><p><br/></p><p>reg add &quot;HKEY_CLASSES_ROOT\\myprotocol&quot; /ve /t Reg_SZ /d &quot;&quot; /f</p><p>reg add &quot;HKEY_CLASSES_ROOT\\myprotocol&quot; /v &quot;URL Protocol&quot; /t Reg_SZ /d &quot;&quot; /f</p><p>reg add &quot;HKEY_CLASSES_ROOT\\myprotocol\\DefaultIcon&quot; /ve /t Reg_SZ /d &quot;D:\\\\VNC\\\\vncviewer.exe&quot; /f</p><p>reg add &quot;HKEY_CLASSES_ROOT\\myprotocol\\shell&quot; /ve /t Reg_SZ /d &quot;&quot; /f</p><p>reg add &quot;HKEY_CLASSES_ROOT\\myprotocol\\shell\\open&quot; /ve /t Reg_SZ /d &quot;&quot; /f</p><p>reg add &quot;HKEY_CLASSES_ROOT\\myprotocol\\shell\\open\\command&quot; /ve /t Reg_SZ /d &quot;\\&quot;D:\\\\VNC\\\\vncviewer.exe\\&quot; &quot; /f</p><p><br/></p><p>gpupdate</p><p>exit;</p><p><br/></p><p>四、使用说明：</p><p><br/></p><p>前提：使用者必须是windows系列操作系统</p><p><br/></p><p>1、先确定所选用的操作系统，win7（配置openVPN.reg),win10(配置openVPN.bat),右击点编辑进行编辑内容；</p><p><br/></p><p>2、确定自己电脑VNC的安装路径，例如：D:\\VNC\\vncviewer.exe</p><p><br/></p><p>3、将.reg或者.bat文件中的路径替换成自己电脑的VNC路径（路径要求请参考4）</p><p><br/></p><p>4、我们找到路径中斜线只有一个,但我们要在每个斜线后面再加一个\\，例如上面路径则变为：D:\\\\VNC\\\\vncviewer.exe</p><p><br/></p><p>5、配置完成后的.reg文件直接双击运行，过程中所有选项均要确定，若有安全软件阻止请点击允许操作</p><p><br/></p><p>6、配置完成后的.bat文件右击以管理员身份运行，过程中所有选项均要确定，若有安全软件阻止请点击允许操作</p><p><br/></p><p>7、配置完成，若有问题可联系Stru → 电话：17600258121 &nbsp;QQ：724561355 &nbsp;</p><p><br/></p><p><br/></p><p>有兴趣的童鞋可以试一试这个东西，可以打开任何exe可执行文件</p><p><br/></p>', '1504662935', 'stru', '116', '21');
INSERT INTO `article` VALUES ('21', 'windows&linux下安装redis', 'windows    linux   redis   php   安装  ', 'window和&linux下安装redis', 'uploads/20171016142936840.jpg', '<p><strong><span style=\"font-size: 24px;\">windows：</span></strong></p><p><span style=\"font-size: 16px;\">&nbsp; &nbsp; &nbsp;1、检查window下php的版本，phpinfo();</span></p><p><span style=\"font-size: 16px;\">&nbsp; &nbsp; &nbsp;2、<a href=\"http://pecl.php.net/，根据PHP版本在该网址下载php的redis扩展->php_redis.dll\" _src=\"http://pecl.php.net/，根据PHP版本在该网址下载php的redis扩展->php_redis.dll\">http://pecl.php.net/，根据PHP版本在该网址下载php的redis扩展-&gt;php_redis.dll</a> &nbsp;</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;3、将dll文件复制到.\\php\\php5.5.12\\ext；</p><p>&nbsp;&nbsp;&nbsp;&nbsp;4、打开php.ini，查找extension，在后面添加：extension=php_redis.dll</p><p>&nbsp;&nbsp;&nbsp;&nbsp;5、重启集成环境（wamp，phpstudy等）<br/></p><p>&nbsp; &nbsp; &nbsp;6、https://redis.io/，在该网址下载对应windows版本下的redis</p><p>&nbsp; &nbsp; &nbsp;&nbsp;<img src=\"/ueditor/php/upload/image/20171016/1508135706344260.png\" title=\"1508135706344260.png\" alt=\"blob.png\" width=\"715\" height=\"95\" style=\"text-align: center; width: 715px; height: 95px;\"/></p><p style=\"text-align: start;\">&nbsp;&nbsp;&nbsp;&nbsp;7、在本地任意盘符解压下载好的文件，文件如下图：<br/></p><p style=\"text-align: start;\">&nbsp;&nbsp;&nbsp;&nbsp;<img src=\"/ueditor/php/upload/image/20171016/1508136031707687.png\" title=\"1508136031707687.png\" alt=\"blob.png\"/></p><p style=\"text-align: start;\">&nbsp; &nbsp; &nbsp;5、开始-&gt;运行-&gt;cmd-&gt;,路径切换到解压路径，输入：redis-server.exe redis.windows.conf</p><p style=\"text-align: start;\">&nbsp;&nbsp;&nbsp;&nbsp;<img src=\"/ueditor/php/upload/image/20171016/1508136105661820.png\" title=\"1508136105661820.png\" alt=\"blob.png\"/></p><p style=\"text-align: start;\">&nbsp;&nbsp;&nbsp;&nbsp;8、编辑测试：phpinfo(),查找：redis<br/></p><p style=\"text-align: start;\">&nbsp;&nbsp;&nbsp;&nbsp;<img src=\"/ueditor/php/upload/image/20171016/1508136345327299.png\" title=\"1508136345327299.png\" alt=\"blob.png\"/></p><p style=\"text-align: start;\"><strong><span style=\"font-size: 24px;\">Linux：</span></strong><span style=\"font-size: 24px;\"><span style=\"font-size: 16px;\"></span></span></p><p style=\"text-align: start;\"><span style=\"font-size: 24px;\"><span style=\"font-size: 16px;\">&nbsp;&nbsp;&nbsp;&nbsp;1、安装redis</span></span></p><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; line-height: 22.4px; white-space: normal;\"><span style=\"font-size: 16px;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;下载：</span><a href=\"https://github.com/nicolasff/phpredis/archive/2.2.4.tar.gz\" rel=\"nofollow\" style=\"margin: 0px; padding: 0px; color: rgb(73, 73, 73); line-height: normal;\"><span style=\"font-size: 16px;\">https://github.com/nicolasff/phpredis/archive/2.2.4.tar.gz</span></a></p><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; line-height: 22.4px; white-space: normal;\"><span style=\"font-size: 16px;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;上传phpredis-2.2.4.tar.gz到/usr/local/src目录</span></p><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; line-height: 22.4px; white-space: normal;\"><span style=\"font-size: 16px;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd /usr/local/src&nbsp;#进入软件包存放目录</span></p><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; line-height: 22.4px; white-space: normal;\"><span style=\"font-size: 16px;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tar zxvf phpredis-2.2.4.tar.gz&nbsp;#解压</span></p><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; line-height: 22.4px; white-space: normal;\"><span style=\"font-size: 16px;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cd phpredis-2.2.4&nbsp;#进入安装目录</span></p><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; line-height: 22.4px; white-space: normal;\"><span style=\"font-size: 16px;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /usr/local/php/bin/phpize&nbsp;#用phpize生成configure配置文件</span></p><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; line-height: 22.4px; white-space: normal;\"><span style=\"font-size: 16px;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ./configure --with-php-config=/usr/local/php/bin/php-config&nbsp;&nbsp;#配置</span></p><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; line-height: 22.4px; white-space: normal;\"><span style=\"font-size: 16px;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; make&nbsp;&nbsp;#编译</span></p><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; line-height: 22.4px; white-space: normal;\"><span style=\"font-size: 16px;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; make install&nbsp;&nbsp;#安装</span></p><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; line-height: 22.4px; white-space: normal;\"><span style=\"font-size: 16px;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 安装完成之后，出现下面的安装路径（路径有可能随着PHP安装位置不同有所变化）</span></p><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; line-height: 22.4px; white-space: normal;\"><span style=\"font-size: 16px;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /usr/local/php/lib/php/extensions/no-debug-non-zts-20090626/</span></p><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; line-height: 22.4px; white-space: normal;\"><span style=\"font-size: 16px;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2、配置php支持</span></p><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; line-height: 22.4px; white-space: normal;\"><span style=\"font-size: 16px;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;vi /usr/local/php/etc/php.ini&nbsp;&nbsp;#编辑配置文件，在最后一行添加以下内容</span><span style=\"font-size: 16px; line-height: 22.4px;\">添加</span><span style=\"font-size: 16px; line-height: 22.4px;\">extension=&quot;redis.so&quot;</span></p><p style=\"margin: 10px auto; padding: 0px; color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; line-height: 22.4px; white-space: normal;\"><span style=\"font-size: 16px;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; :wq!&nbsp;#保存退出</span></p><p style=\"text-align: start;\"><span style=\"font-size: 24px;\"><span style=\"font-size: 16px;\"><br/></span></span><br/></p>', '1508136584', 'stru', '51', '4');
INSERT INTO `article` VALUES ('22', 'laravel中实现treeView，痛苦、纠结、感悟的一天！', 'laravel,treeView,PHP,', '项目中用到一个树形结构页面，经过咨询前辈才知道这是个插件（感觉自己好lo），经过跟插件一天的斗争总算搞出来了，下面分享下。', 'uploads/20180319162800100.png', '<p>一、项目原型部分截图：</p><p style=\"text-align:center\"><img src=\"/ueditor/php/upload/image/20171201/1512117738856568.png\" title=\"1512117738856568.png\" alt=\"图片.png\"/></p><p>二、HTML部分截图：</p><p>&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"text-align: center;\"><img src=\"/ueditor/php/upload/image/20171201/1512117824631176.png\" title=\"1512117824631176.png\" alt=\"图片.png\"/></p><p>三、就像描述中说的，自己的孤陋寡闻导致竟然这不知道是个插件、找组长问了下。但是即使知道这是个插件</p><p>最主要的问题是我TM没用过呀，这怎么搞（此时心里有1W只羊驼在奔腾）。</p><p>四、没办法项目总的做，硬着头找资料吧，怎么找？你怎么知道这是个啥插件？后来想到页面中应该会引入对</p><p>应的js文件，通过js文件找到了这个网址：</p><pre style=\"background-color:#272822;color:#f8f8f2;font-family:&#39;宋体&#39;;font-size:12.0pt;\">http://bassistance.de/jquery-plugins/jquery-plugin-treeview/</pre><p>进去一看英文的，我就没好好学过英文，怎么办？继续找度娘吧，最起码没准还能有点收货，不搜不知道，搜了</p><p>才发现全是其他预言的例子，没有PHP的。此时真的好绝望。没办法返回来还得看文档、最后发现demo是个好</p><p>东西，写的比较清除了，有用的资料如下：</p><p><img src=\"/ueditor/php/upload/image/20171201/1512118213928268.png\" title=\"1512118213928268.png\" alt=\"图片.png\"/><img src=\"/ueditor/php/upload/image/20171201/1512118242446902.png\" title=\"1512118242446902.png\" alt=\"图片.png\"/></p><p><img src=\"/ueditor/php/upload/image/20171201/1512118302455764.png\" title=\"1512118302455764.png\" alt=\"图片.png\"/></p><p>这地方只截图了些大概，具体有兴趣可以到官网去看，或者联系我我给你发，QQ：724561355</p><p>说句实话有了这三个文件基本上这件事就成了一大半了，但是要结合laravel还需要继续读代码才能了解，看了大概</p><p>三个小时吧，大概懂了，开始干！！！</p><p>1、html页面中的配置</p><p><img src=\"/ueditor/php/upload/image/20171201/1512118403921529.png\" title=\"1512118403921529.png\" alt=\"图片.png\"/></p><p>2、js的修改：</p><p><img src=\"/ueditor/php/upload/image/20171201/1512118426178057.png\" title=\"1512118426178057.png\" alt=\"图片.png\"/></p><p><img src=\"/ueditor/php/upload/image/20171201/1512118447297178.png\" title=\"1512118447297178.png\" alt=\"图片.png\"/></p><p>这是重点修改的地方，接下来开始PHP</p><p>3、路由：</p><p><img src=\"/ueditor/php/upload/image/20171201/1512118480852500.png\" title=\"1512118480852500.png\" alt=\"图片.png\"/></p><p>4、PHP代码：</p><p><img src=\"/ueditor/php/upload/image/20171201/1512118501198435.png\" title=\"1512118501198435.png\" alt=\"图片.png\"/></p><p>当然此处的PHP代码是要通过无限极分类结合数据库查询到的数据进行重组的，详细看以后的博客，今天就</p><p>不做赘言了。</p><p>5、最后BB下内心OS吧，无论何时何事一定要自己尽全力去做（不要动不动就跑去求助），当实在觉得你没有那么多时间可以浪费的时候再去求助。因为并不是所有的人都有时间帮你解决问题。靠自己最靠谱。相信自己可以解决同时要抓住细节、保持一颗平常心去研究问题往往会事半功倍！<br/></p>', '1512118919', 'STRU', '135', '1');
INSERT INTO `article` VALUES ('23', 'Zabbix安装部署文档-Centos6.5', 'zabbix、centos6、服务器管理、服务器监控、SNMP', 'Zabbix安装部署文档-Centos6.5，同时涵盖SNMP监控、zabbix-proxy部署', 'uploads/20180319161309697.png', '<p style=\"text-align:left\"><strong><span style=\"font-size:35px;font-family:宋体\">&nbsp;</span></strong></p><p style=\"text-align:left\"><strong><span style=\"font-size:35px;font-family:宋体\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong><strong><span style=\"font-size:35px;font-family:宋体\">&nbsp;</span><a style=\"text-align: center;\" name=\"_Toc508788310\"></a><span style=\"text-align: center;\">Zabbix</span><span style=\"text-align: center; font-family: 宋体;\">安装使用文档</span></strong></p><p style=\"text-align:left\"><strong><span style=\"font-size:35px;font-family:宋体\">&nbsp;</span></strong></p><p style=\"text-align:left\"><span style=\"font-family: 宋体; font-size: 20px; text-indent: 28px;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;编写者：勾文平（Stru）</span></p><p style=\"text-align:left\"><strong><span style=\"font-size:35px;font-family:宋体\">&nbsp;</span></strong></p><p style=\"text-align:left\"><br/></p><p><span style=\"font-family:宋体\">目录</span></p><p><a href=\"#_Toc508788310\">Zabbix<span style=\"font-family:宋体\">安装使用文档</span><span style=\"color:windowtext;display:none;text-underline:  none\">... </span><span style=\"color:windowtext;display:none;text-underline:none\">1</span></a></p><p><a href=\"#_Toc508788311\">Zabbix<span style=\"font-family:宋体\">简介</span><span style=\"color:windowtext;display:none;text-underline:  none\">... </span><span style=\"color:windowtext;display:none;text-underline:none\">3</span></a></p><p><a href=\"#_Toc508788312\">1.1<span style=\"font-family:宋体\">运行条件</span><span style=\"color:windowtext;display:none;text-underline:  none\">... </span><span style=\"color:windowtext;display:none;text-underline:none\">3</span></a></p><p><a href=\"#_Toc508788313\">1.2<span style=\"font-family:宋体\">优劣势</span><span style=\"color:windowtext;display:none;text-underline:  none\">... </span><span style=\"color:windowtext;display:none;text-underline:none\">3</span></a></p><p><a href=\"#_Toc508788314\">Zabbix<span style=\"font-family:宋体\">安装</span><span style=\"color:windowtext;display:none;text-underline:  none\">... </span><span style=\"color:windowtext;display:none;text-underline:none\">4</span></a></p><p><a href=\"#_Toc508788315\">2.1<span style=\"font-family:宋体\">服务端安装</span><span style=\"color:windowtext;display:none;text-underline:  none\">... </span><span style=\"color:windowtext;display:none;text-underline:none\">4</span></a></p><p><a href=\"#_Toc508788316\">2.3<span style=\"font-family:宋体\">客户端安装</span><span style=\"color:windowtext;display:none;text-underline:  none\">... </span><span style=\"color:windowtext;display:none;text-underline:none\">13</span></a></p><p><a href=\"#_Toc508788317\">2.3<span style=\"font-family:宋体\">服务端</span>web<span style=\"font-family:宋体\">安装</span><span style=\"color:windowtext;display:none;text-underline:  none\">... </span><span style=\"color:windowtext;display:none;text-underline:none\">14</span></a></p><p><a href=\"#_Toc508788318\">Zabbix<span style=\"font-family:宋体\">常用功能</span><span style=\"color:windowtext;display:none;text-underline:  none\">... </span><span style=\"color:windowtext;display:none;text-underline:none\">16</span></a></p><p><a href=\"#_Toc508788319\">3.1<span style=\"font-family:宋体\">监控</span><span style=\"color:windowtext;display:none;text-underline:  none\">... </span><span style=\"color:windowtext;display:none;text-underline:none\">16</span></a></p><p><a href=\"#_Toc508788320\">3.2<span style=\"font-family:宋体\">配置</span><span style=\"color:windowtext;display:none;text-underline:  none\">... </span><span style=\"color:windowtext;display:none;text-underline:none\">17</span></a></p><p><a href=\"#_Toc508788321\">3.3<span style=\"font-family:宋体\">代理配置</span><span style=\"color:windowtext;display:none;text-underline:  none\">... </span><span style=\"color:windowtext;display:none;text-underline:none\">19</span></a></p><p><a href=\"#_Toc508788322\">3.4<span style=\"font-family:宋体\">自定义</span>KEY<span style=\"font-family:宋体\">进行监控</span><span style=\"color:windowtext;display:none;text-underline:  none\">... </span><span style=\"color:windowtext;display:none;text-underline:none\">20</span></a></p><p><a href=\"#_Toc508788323\">PHP<span style=\"font-family:宋体\">通过</span>API<span style=\"font-family:宋体\">获取</span>Zabbix<span style=\"font-family:宋体\">数据</span><span style=\"color:windowtext;display:none;text-underline:  none\">... </span><span style=\"color:windowtext;display:none;text-underline:none\">22</span></a></p><p>&nbsp;</p><p><strong><span style=\"font-size:21px;font-family:宋体\">&nbsp;</span></strong></p><p>&nbsp;</p><p><strong><span style=\"font-size:21px;font-family:宋体\">&nbsp;</span></strong></p><p><strong><span style=\"font-size:21px;font-family:宋体\">&nbsp;</span></strong></p><p><strong><span style=\"font-size:21px;font-family:宋体\">&nbsp;</span></strong></p><p><strong><span style=\"font-size:21px;font-family:宋体\">&nbsp;</span></strong></p><p><strong><span style=\"font-size:21px;font-family:宋体\">&nbsp;</span></strong></p><p><strong><span style=\"font-size:21px;font-family:宋体\">&nbsp;</span></strong></p><p><strong><span style=\"font-size:21px;font-family:宋体\">&nbsp;</span></strong></p><p><strong><span style=\"font-size:21px;font-family:宋体\">&nbsp;</span></strong></p><h2><a name=\"_Toc508788311\"></a>Zabbix<span style=\"font-family:宋体\">简介</span></h2><p>Zabbix<span style=\"font-family:宋体\">是一个企业级的开源分布式监控解决方案软件，它能监视各种网络参数，保证服务器系统的安全运营；并提供灵活的通知机制以让系统管理员快速定位</span>/<span style=\"font-family:宋体\">解决存在的各种问题，其通过</span>C/S<span style=\"font-family:宋体\">模式采集数据，通过</span>B/S<span style=\"font-family:宋体\">模式进行数据展示和服务配置，同时支持</span>API<span style=\"font-family:宋体\">可进行配置及数据获取。</span></p><p><span style=\"font-family:宋体\">官方网站：</span><a href=\"https://www.zabbix.com\"><span style=\";font-family:宋体\">https://www.zabbix.com</span></a></p><p><span style=\"font-family:宋体\">官方文档地址：</span></p><p><a href=\"https://www.zabbix.com/documentation/3.2/start\"><span style=\";font-family:宋体\">https://www.zabbix.com/documentation/3.2/start</span></a></p><p class=\"MsoListParagraph\" style=\"margin-left:48px;text-indent:0\"><span style=\"font-size:16px;font-family:宋体\">&nbsp;</span></p><h3><a name=\"_Toc508788312\"></a>1.1<span style=\"font-family:宋体\">运行条件</span></h3><p><strong>Server</strong><strong><span style=\"font-family:宋体\">端</span></strong><span style=\"font-family:宋体\">：需要运行在</span>LAMP<span style=\"font-family:宋体\">、</span>LNMP<span style=\"font-family:宋体\">等集成环境或者自编译的</span></p><p><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </strong>Linux+apache/nginx+Mysql+PHP<span style=\"font-family:宋体\">的环境上。</span></p><p><strong><span style=\";font-family:宋体\">Agent</span></strong><strong><span style=\";font-family:宋体\">（代理端）</span></strong><span style=\";font-family:宋体\">：</span><span style=\"font-family:宋体\">目前支持</span>Linux<span style=\"font-family:宋体\">和</span>Windows</p><p><strong><span style=\";font-family:宋体\">SNMP</span></strong><span style=\";font-family:宋体\">：</span><span style=\"font-family:宋体\">支持该协议的所有网络设备，但不限于网络设备</span></p><h3><a name=\"_Toc508788313\"></a>1.2<span style=\"font-family:宋体\">优劣势</span></h3><p><strong><span style=\"font-family:宋体\">优点：</span></strong><span style=\"font-family: 宋体\">开源、对设备性能要求低，支持集群式使用（可配置代理）</span></p><p><strong><span style=\"font-family:宋体\">缺点：</span></strong><span style=\"font-family: 宋体\">中文资料少到蓝瘦（要好好珍惜</span>Stru<span style=\"font-family:宋体\">写的中文文档哈…）</span></p><h2><a name=\"_Toc508788314\"></a>Zabbix<span style=\"font-family:宋体\">安装</span></h2><h3><a name=\"_Toc508788315\"></a>2.1<span style=\"font-family:宋体\">服务端安装</span></h3><p><span style=\"font-family:宋体\">本次安装的</span>Linux<span style=\"font-family:宋体\">环境：</span>CentOS6.4</p><h4>2.1.1<span style=\"font-family:宋体\">安装</span>mysql</h4><p>1<span style=\"font-family:宋体\">、查看是否安装过</span>mysql<span style=\"font-family:宋体\">：</span>rpm –qa mysql*(*<span style=\"font-family:宋体\">防止查不全</span>)</p><p>2<span style=\"font-family:宋体\">、卸载已安装过的</span>mysql</p><p>&nbsp; Rpm –e mysql (<span style=\"font-family:宋体\">正常安装且未损坏可进行此卸载</span>)</p><p>&nbsp; Yum remove mysql (<span style=\"font-family:宋体\">强制卸载</span>)</p><p>3<span style=\"font-family:宋体\">、到</span>mysql<span style=\"font-family:宋体\">官网下载所需的</span>mysql<span style=\"font-family:宋体\">版本（本次使用</span>5.7.21<span style=\"font-family:宋体\">）</span></p><p>&nbsp;&nbsp;<span style=\"font-family:宋体\">下载地址：</span><a href=\"https://dev.mysql.com/downloads\"><span style=\";font-family:宋体\">https://dev.mysql.com/downloads</span></a></p><p>&nbsp;&nbsp;<span style=\"font-family:宋体\">下载的为</span>tar<span style=\"font-family:宋体\">包，执行：</span></p><p>tar mysql-5.7.16-1.el7.x86_64.rpm-bundle.tar</p><p>4<span style=\"font-family:宋体\">、安装</span>rpm<span style=\"font-family:宋体\">包顺序：</span></p><p><span style=\"font-family:宋体\">命令：</span>rpm –ivh <span style=\"font-family:宋体\">包名称</span></p><p>mysql-community-common-5.7.10-1.el6.i686.rpm</p><p>mysql-community-libs-5.7.10-1.el6.i686.rpm</p><p>mysql-community-client-5.7.10-1.el6.i686.rpm</p><p>mysql-community-server-5.7.10-1.el6.i686.rpm</p><p>5<span style=\"font-family:宋体\">、启动</span>mysql</p><p>Service mysqld start</p><p><span style=\"font-family:宋体\">备用命令：</span></p><p>systemctl enable mysqld &amp;&amp; systemctl start mysqld</p><p>6<span style=\"font-family:宋体\">、启动成功检验：</span></p><p>&nbsp; ps -ef | grep mysqld</p><p><br/></p><h4>2.1.2<span style=\"font-family:宋体\">安装</span>PHP</h4><p>1<span style=\"font-family:宋体\">、安装依赖包：</span></p><p>yum install -y libxml2 libxml2-devel openssl-devel libcurl-devel libjpeg-devel libpng-devel libicu-devel &nbsp;openldap-devel gcc gcc-c++</p><p>2<span style=\"font-family:宋体\">、下载解压</span></p><p>&nbsp;&nbsp;<span style=\"font-family:宋体\">下载地址：</span><a href=\"https://secure.php.net/get/php-5.6.9.tar.gz\"><span style=\";font-family:宋体\">https://secure.php.net/get/php-5.6.9.tar.gz</span></a></p><p><span style=\"font-family:宋体\">解压：</span>tar –zxvf <span style=\"font-family:宋体\">包名称</span></p><p>3<span style=\"font-family:宋体\">、配置编译：</span></p><p>cd <span style=\"font-family:宋体\">解压后文件的路径</span></p><p>./configure --prefix=/usr/local/php --with-config-file-path=/usr/local/php/etc --enable-fpm --with-fpm-user=php-fpm --with-fpm-group=www --enable-mysqlnd --with-mysql=mysqlnd --with-mysqli=mysqlnd --with-pdo-mysql=mysqlnd --enable-opcache --enable-mbstring --enable-soap --enable-sockets --enable-zip --enable-bcmath --with-openssl --with-zlib --with-gettext --with-curl --with-gd --with-zlib-dir=/usr/lib--with-png-dir=/usr/lib--with-jpeg-dir=/usr/lib-with-freetype-dir=/usr/local/ --with-mhash&nbsp; &amp;&amp; make &amp;&amp; make install</p><p>4<span style=\"font-family:宋体\">、添加环境变量</span></p><p>&nbsp;vi /etc/profile <span style=\"font-family:宋体\">文件末尾添加以下代码：</span></p><p>export PATH=$PATH:/usr/local/php/bin source /etc/profile</p><p>5<span style=\"font-family:宋体\">、验证安装结果：</span>php –v</p><p>6<span style=\"font-family:宋体\">、配置</span>PHP</p><p>&nbsp;&nbsp;<span style=\"font-family:宋体\">①将源码解压路</span>/php 5.6.9/php.ini-production<span style=\"font-family:宋体\">拷贝到</span>/usr/local/lib <span style=\"font-family:宋体\">并改名为</span>php.ini</p><p>&nbsp; &nbsp;mv /var/stru/php 5.6.9/php.ini-production&nbsp; /usr/local/lib/php.ini</p><p>&nbsp;&nbsp;<span style=\"font-family:宋体\">②配置</span>php-fpm</p><p>&nbsp; cp /usr/local/php/etc/php-fpm.conf.default&nbsp; /usr/local/php/etc/ph&nbsp; p-fpm.conf</p><p><span style=\"font-family:宋体\">③配置</span>php-fpm<span style=\"font-family:宋体\">以服务形式启动</span></p><p>&nbsp;cp/var/stru/php5.6.9/sapi/fpm/init.d.php-fpm /etc/init.d/php-fpm</p><p>&nbsp;chmod a+x /etc/init.d/php-fpm</p><p><span style=\"font-family:宋体\">④启动</span>php-fpm<span style=\"font-family:宋体\">并验证</span></p><p>&nbsp;/etc/init.d/php-fpm start</p><p>&nbsp;netstat -tunlp |grep 9000</p><p><span style=\"font-size:19px;font-family:宋体\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p><p><span style=\"font-size:19px;font-family:宋体\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p><h4>2.1.3<span style=\"font-family:宋体\">安装</span>APACHE</h4><p>1<span style=\"font-family:宋体\">、安装</span>apr par-util</p><p># cd /var/stru</p><p># tar –zxvf httpd-2.4.16-deps.tar.gz</p><p># cd httpd-2.4.16/srclib/apr</p><p># ./configure --prefix=/usr/local/apr</p><p># make &amp;&amp; make install</p><p># cd ../apr-util</p><p># ./configure--prefix=/usr/local/apr-util --with-apr=/usr/local/apr</p><p># make &amp;&amp; make install</p><p>2<span style=\"font-family:宋体\">、安装</span>zlib1.2.8</p><p># cd /var/stru</p><p># tar –zxvf zlib-1.2.8.tar.gz</p><p># ./configure --prefix=/usr/local/zlib</p><p># make &amp;&amp; make install</p><p>3<span style=\"font-family:宋体\">、安装</span>pcre</p><p># cd /var/stru</p><p># tar –zxvf pcre-8.36.tar.gz</p><p># cd pcre-8.36</p><p># ./configure --prefix=/usr/local/pcre</p><p># make &amp;&amp; make intall</p><p>4<span style=\"font-family:宋体\">、安装</span>openssl-1.0.1t</p><p># cd /var/stru</p><p># tar –zxvf openssl-1.0.1t.tar.gz</p><p># cd openssl-1.0.1t</p><p># ./config --prefix=/usr/local/openssl -fPIC no-gostno-shared no-zlib –shared</p><p># make &amp;&amp; make install</p><p>5<span style=\"font-family:宋体\">、安装</span>httpd2.4.16</p><p># cd var/stru</p><p># tar –zxvf httpd-2.4.16.tar.gz</p><p># cd httpd-2.4.16</p><p>#./configure--prefix=/usr/local/apache --sysconfdir=/usr/httpd --enable-so --enable-cgi --enable-ssl &nbsp; &nbsp;--enable-rewrite--with-ssl=/usr/local/openssl --with-pcre=/usr/local/pcre --with-z=/usr/local/zlib --with-apr=/usr/local/apr --with-apr-util=/usr/local/apr-util --enable-modules=most --enable-mpms-shared=all &nbsp;--with-mpm=event</p><p># make &amp;&amp; make install</p><p>6<span style=\"font-family:宋体\">、配置</span>apache</p><p># vim /usr/httpd/httpd.conf</p><p><span style=\"font-family:宋体\">配置域名：</span>ServerName localhost:80</p><p><span style=\"font-family:宋体\">删除注释：</span>proxy.so fcgi.so</p><p>&nbsp;<span style=\"font-family:宋体\">③</span>&lt;FilesMatch \\.php$&gt;</p><p>&nbsp;&nbsp;&nbsp; SetHandler &quot;proxy:fcgi://127.0.0.1:9000&quot;</p><p>&nbsp;&nbsp;&lt;/FilesMatch&gt;</p><p>7<span style=\"font-family:宋体\">、启动</span>Aapache</p><p># cd /usr/local/apache/bin</p><p>#./apachectl start</p><p><span style=\"font-family:宋体\">有可能第一次启动会失败，再启一次就</span>OK<span style=\"font-family:宋体\">了。</span></p><h4>2.1.4<span style=\"font-family:宋体\">安装</span>Zabbix</h4><p>1<span style=\"font-family:宋体\">、安装依赖</span></p><p># yum install -y net-snmp net-snmp-devel</p><p>2<span style=\"font-family:宋体\">、编译安装</span></p><p># cd /var/stru</p><p># tar –zxvf zabbix-3.2.7.tar.gz</p><p># cd zabbix-3.2.7</p><p># ./configure --prefix=/usr/local/zabbix/ --enable-server --enable-agent --with-mysql=/usr/bin/mysql_config &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --with-net-snmp --with-libcurl --with-libxml2 &nbsp; --enable-proxy --enable-snmp --with-mbstring &amp;&amp; make &amp;&amp; make install</p><p>3<span style=\"font-family:宋体\">、启动配置</span></p><p>#cp/var/stru/zabbix-3.2.7/misc/init.d/fedora/core5/zabbix_* &nbsp;/etc/init.d/</p><p>4<span style=\"font-family:宋体\">、数据库配置</span></p><p>#mysql –uroot –p</p><p>mysql&gt;create database zabbix default charset utf8;</p><p>mysql&gt;GRANT ALL PRIVILEGES ON *.* TO &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; zabbix@&#39;localhost&#39; IDENTIFIED BY &#39;zabbix&#39; WITH GRANT &nbsp; OPTION;</p><p>5<span style=\"font-family:宋体\">、导入数据</span></p><p>#mysql –uroot -p zabbix &lt; /var/stru /zabbix-3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2.7/database/mysql/schema.sql</p><p>#mysql -uroot -p zabbix &lt; /var/stru /zabbix-3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2.7/database/mysql/images.sql</p><p>#mysql -uroot -p zabbix &lt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /var/stru /zabbix-3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2.7/database/mysql/data.sql</p><p>6<span style=\"font-family:宋体\">、复制</span>web<span style=\"font-family:宋体\">端文件到</span>apache<span style=\"font-family:宋体\">根目录</span></p><p>cp -fr /var/stru/zabbix-3.2.7/frontends/php /usr/local/apache/htdocs/zabbix</p><p>7<span style=\"font-family:宋体\">、配置</span>zabbix<span style=\"font-family:宋体\">文件</span></p><p><span style=\"font-family:宋体\">配置配置文件：</span></p><p>#vim /usr/local/zabbix/etc/zabbix_server.conf</p><p><span style=\"font-family:宋体\">修改一下内容：</span></p><p>DBName=zabbix</p><p>DBUser=zabbix</p><p>DBPassword=zabbix</p><p>DBPort=3306</p><p><span style=\"font-family:宋体\">注意：此处配置的用户密码要在</span>mysql<span style=\"font-family:宋体\">中添加且授权</span></p><p>8<span style=\"font-family:宋体\">、启动服务端与客户端并验证</span></p><p># cd /usr/local/zabbix/sbin</p><p># ./zabbix_server</p><p># ./zabbix_agentd</p><p># netstat -tunlp</p><p><span style=\"font-family: 宋体;\">注意：图中</span>10051<span style=\"font-family: 宋体;\">为服务端，</span>10050<span style=\"font-family: 宋体;\">为客户端</span><br/></p><h4>2.1.5<span style=\"font-family:宋体\">安装</span>SNMP</h4><p># yum -y install net-snmp net-snmp-devel net-snmp -utils</p><p># service snmpd start</p><p># netstat -tunlp</p><p><br/></p><p><span style=\"font-family:宋体\">默认</span>snmp<span style=\"font-family:宋体\">值开启</span>systemview<span style=\"font-family:宋体\">，可获取资源有限，进行如下配置：</span></p><p><span style=\"font-family:宋体\">①</span>#access notConfigGroup &quot;&quot; any noauth exact systemview none none(<span style=\"font-family:宋体\">原来的注释</span>)</p><p>access notConfigGroup &quot;&quot; any noauth exact all none none<span style=\"font-family:宋体\">（新添加</span>systemview<span style=\"font-family:宋体\">的改为</span>all<span style=\"font-family:宋体\">）</span></p><p><span style=\"font-family:宋体\">②</span>## incl/excl subtree mask</p><p>view all included .1 80</p><p>## -or just the mib2 tree-view mib2 included .iso.org.dod.internet.mgmt.mib-2 fc</p><p><span style=\"font-family:宋体\">③</span>service snmpd restart&nbsp; <span style=\"font-family:宋体\">重启</span>snmp</p><h4>2.1.6<span style=\"font-family:宋体\">代理端安装</span></h4><p><span style=\"font-family:宋体\">首先说明我们在上面安装</span>zabbix<span style=\"font-family:宋体\">服务端的时候已经进行了代理端的安装，但如果单独安装代理端的话仅需要如下步骤即可：</span></p><p>1<span style=\"font-family:宋体\">、安装</span>mysql<span style=\"font-family:宋体\">数据库（具体安装方法同上）</span></p><p>2<span style=\"font-family:宋体\">、安装</span>zabbix_proxy</p><p>#cd /var/stru/zabbix-3.2.7</p><p># ./configure --prefix=/usr/local/zabbix --enable-proxy --enable-agent --with-mysql --with-net-snmp --enable-ipv6 --with-libcurl --with-libxml2 &amp;&amp; make &amp;&amp; make install</p><p>#groupadd zabbix</p><p>#useradd -g zabbix zabbix</p><p>3<span style=\"font-family:宋体\">、配置代理</span></p><p>#vim /usr/local/zabbix/etc/zabbix_proxy.conf</p><p>Server=127.0.0.1&nbsp; <span style=\"font-family:宋体\">此处</span>ip<span style=\"font-family:宋体\">改成</span>Server<span style=\"font-family:宋体\">的</span>ip</p><p>#cd /usr/local/zabbix/sbin/</p><p>#./zabbix_proxy&nbsp;&nbsp; [<span style=\"font-family:宋体\">启动代理服务器，默认端口</span>10051]</p><h3><a name=\"_Toc508788316\"></a>2.3<span style=\"font-family:宋体\">客户端安装</span></h3><p><span style=\"font-family:宋体\">首先说明我们在上面安装</span>zabbix<span style=\"font-family:宋体\">服务端的时候已经进行了客户端的安装，但如果单独安装客户端的话仅需要如下步骤即可：</span></p><p>1<span style=\"font-family:宋体\">、安装依赖</span></p><p># yum install -y net-snmp net-snmp-devel</p><p>2<span style=\"font-family:宋体\">、编译安装</span></p><p># cd /var/stru</p><p># tar –zxvf zabbix-3.2.7.tar.gz</p><p># cd zabbix-3.2.7</p><p># ./configure --prefix=/usr/local/zabbix/ --enable-agent &nbsp;&amp;&amp; make &amp;&amp; make install</p><p>3<span style=\"font-family:宋体\">、启动配置</span></p><p>#cp/var/stru/zabbix-3.2.7/misc/init.d/fedora/core5/zabbix_* &nbsp;/etc/init.d/</p><p>4<span style=\"font-family:宋体\">、配置</span>zabbix<span style=\"font-family:宋体\">文件</span></p><p><span style=\"font-family:宋体\">配置配置文件：</span></p><p>#vim /usr/local/zabbix/etc/zabbix_agentd.conf</p><p><span style=\"font-family:宋体\">将</span>Server=127.0.0.1 <span style=\"font-family:宋体\">指向服务端的</span>ip</p><p>5<span style=\"font-family:宋体\">、启动客户端并验证</span></p><p># cd /usr/local/zabbix/sbin</p><p># ./zabbix_agentd</p><p># netstat -tunlp</p><p><br/></p><h3><a name=\"_Toc508788317\"></a>2.3<span style=\"font-family:宋体\">服务端</span>web<span style=\"font-family:宋体\">安装</span></h3><p><span style=\"font-family:宋体\">测试服务端</span>IP<span style=\"font-family:宋体\">：</span>192.168.121.10</p><p><span style=\"font-family:宋体\">测试客户端</span>IP<span style=\"font-family:宋体\">：</span>192.168.121.8</p><h4>2.3.1<span style=\"font-family:宋体\">安装访问</span></h4><p><span style=\";font-family:宋体\">访问服务端：</span><a href=\"http://192.168.121.10/zabbix\"><span style=\";font-family:宋体\">http://192.168.121.10/zabbix</span></a></p><p><span style=\";font-family:宋体\">按照要求一步步进行设置，在验证环境时会出现php配置或者php扩展未安装的情况，根据需要配置安装即可。</span></p><p><span style=\";font-family:宋体\">最后会提示缺少配置文件，下载后复制到指定目录即可。</span></p><p><span style=\";font-family:宋体\">访问：192.168.121.10/zabbix</span></p><p><br/></p><p><span style=\"font-family:宋体\">此时即可登录：默认账户：</span>Admin<span style=\"font-family:宋体\">，密码：</span>zabbix</p><p><span style=\"font-family:宋体;color:red\">注意：用户名中的</span><span style=\"color:red\">Admin</span><span style=\"font-family:宋体;color:red\">，</span><span style=\"color:red\">A</span><span style=\"font-family:宋体;color:red\">必须是大写。</span></p><p><strong>&nbsp;</strong></p><p class=\"MsoListParagraph\" style=\"margin-left:76px;text-indent:8px\"><strong><span style=\";font-family:宋体\">&nbsp;</span></strong></p><h4>2.3.2<span style=\"font-family:宋体\">中文配置</span></h4><p><br/></p><p><span style=\"font-family:宋体\">最后点击更新即可</span></p><p><span style=\"font-family:宋体\">部分情况会出现中文无法选择的情况：</span></p><p><span style=\"font-family:宋体\">修改站点根目录下</span>include/locales.inc.php<span style=\"font-family:宋体\">文件</span></p><p><br/></p><p><span style=\"font-family:宋体\">将此处的</span>false<span style=\"font-family:宋体\">改成</span>true<span style=\"font-family:宋体\">在返回</span>web<span style=\"font-family:宋体\">界面选择中文即可。</span></p><h2><a name=\"_Toc508788318\"></a>Zabbix<span style=\"font-family:宋体\">常用功能</span></h2><h3><a name=\"_Toc508788319\"></a>3.1<span style=\"font-family:宋体\">监控</span></h3><h4>&nbsp;&nbsp; 3.1.1<span style=\"font-family:宋体\">仪表板</span></h4><p><strong>&nbsp;&nbsp;&nbsp;&nbsp;</strong>Zabbix<span style=\"font-family:宋体\">状态、系统状态、主机状态</span></p><h4>&nbsp; &nbsp;3.1.2<span style=\"font-family:宋体\">最新数据</span></h4><p><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong><span style=\"font-family:宋体\">通过过滤器查询主机监控项获取的最新数据</span>/<span style=\"font-family:宋体\">历史数据</span></p><h4>&nbsp; &nbsp;3.1.3<span style=\"font-family:宋体\">图形</span></h4><p><strong>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</strong><span style=\"font-family:宋体\">通过图形方式展示获取的连续数值型数据。</span></p><h4>&nbsp; &nbsp;3.1.4<span style=\"font-family:宋体\">自动发现</span></h4><p><strong>&nbsp; &nbsp; &nbsp;</strong><span style=\"font-family:宋体\">配置中的自动发现结果展示在此。</span></p><h3><a name=\"_Toc508788320\"></a>3.2<span style=\"font-family:宋体\">配置</span></h3><p><strong>3.2.1<span style=\"font-family:宋体\">主机群组</span></strong></p><p><span style=\";font-family:宋体\">&nbsp; </span><span style=\";font-family:宋体\">默认群组：client、Discovered hsot、Hypervisors、Linux servers、Templates、Virtual machines、</span></p><p><span style=\"font-family: 宋体;\">Zabbix servers</span></p><p><span style=\";font-family:宋体\">&nbsp;</span><span style=\";font-family:宋体\">通过管理需求创建群组：</span></p><p><span style=\";font-family:宋体\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span> </p><p><span style=\";font-family:宋体\">&nbsp;&nbsp; </span> </p><h4>3.2.2<span style=\"font-family:宋体\">模版</span></h4><p><strong>&nbsp;&nbsp;</strong><span style=\"font-family:宋体\">默认模版：</span>FTP<span style=\"font-family:宋体\">、</span>HTTP<span style=\"font-family:宋体\">、</span>HTTPS<span style=\"font-family:宋体\">等模版，</span></p><p><strong>&nbsp;&nbsp;</strong><span style=\"font-family:宋体\">此处的模版指所需监控项的集合，根据需求可以进行自</span><span style=\"font-family:宋体\">定义</span></p><p><strong><span style=\";font-family:宋体\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></strong> </p><p><br/></p><h4>3.2.3<span style=\"font-family:宋体\">主机</span></h4><p><strong>&nbsp;&nbsp;</strong><span style=\"font-family:宋体\">默认主机是</span>Zabbix<span style=\"font-family:宋体\">服务器</span></p><p>&nbsp;&nbsp;<span style=\"font-family:宋体\">可以添加需要监控的主机：</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</p><p><br/></p><p class=\"MsoListParagraph\" style=\"margin-left:48px;text-indent:0\"><span style=\";font-family:宋体\">&nbsp;</span></p><h4>3.2.4<span style=\"font-family:宋体\">自动发现</span></h4><p><strong>&nbsp; &nbsp;</strong><span style=\"font-family:宋体\">根据定义的规则自动发现可以监控的主机</span></p><p><br/></p><p><br/></p><p class=\"MsoListParagraph\" style=\"margin-left:48px;text-indent:0\"><span style=\";font-family:宋体\">&nbsp;</span></p><h3><a name=\"_Toc508788321\"></a>3.3<span style=\"font-family:宋体\">代理配置</span></h3><p>1<span style=\"font-family:宋体\">、点击管理—</span>&gt;agent<span style=\"font-family:宋体\">代理程序</span></p><p>2<span style=\"font-family:宋体\">、点击右侧创建代理</span></p><p>3<span style=\"font-family:宋体\">、填写信息</span>[<span style=\"font-family:宋体\">此处主机可以等自动发现或者配置时在主机上添加</span>]</p><p><br/></p><p><span style=\";font-family:宋体\">4</span><span style=\";font-family:宋体\">、主机配置代理</span></p><p class=\"MsoListParagraph\" style=\"margin-left:48px;text-indent:0\"><span style=\";font-family:宋体\">① agent配置文件中更改Server为代理服务器地址</span></p><p class=\"MsoListParagraph\" style=\"margin-left:48px;text-indent:0\"><span style=\";font-family:宋体\">#vim /usr/local/zabbix/etc/zabbix_agentd.conf</span></p><p class=\"MsoListParagraph\" style=\"margin-left:48px;text-indent:0\"><span style=\";font-family:宋体\">Server=</span><span style=\";font-family:宋体\">代理服务器IP</span></p><p class=\"MsoListParagraph\" style=\"margin-left:48px;text-indent:0\"><span style=\";font-family:宋体\">② Server端程序中指定</span></p><p class=\"MsoListParagraph\" style=\"margin-left:48px;text-indent:0\"><br/></p><h3><a name=\"_Toc508788322\"></a>3.4<span style=\"font-family:宋体\">自定义</span>KEY<span style=\"font-family:宋体\">进行监控</span></h3><p>1<span style=\"font-family:宋体\">、配置客户端：</span>vim /usr/local/zabbix/etc/zabbix_agentd.conf</p><p><br/></p><p>UserParameter<span style=\"font-family: 宋体\">是定义</span>key<span style=\"font-family:宋体\">的关键字；</span></p><p>tms-server<span style=\"font-family: 宋体\">是</span>key<span style=\"font-family:宋体\">的名称，后面是</span>key<span style=\"font-family:宋体\">的执行脚本或命令。</span></p><p>2<span style=\"font-family:宋体\">、编写脚本</span></p><p><br/></p><p><span style=\"font-family:宋体\">此处为获取</span>tms<span style=\"font-family:宋体\">服务接口的</span>PID<span style=\"font-family:宋体\">，根据</span>PID<span style=\"font-family:宋体\">的返回值判断</span>tms<span style=\"font-family:宋体\">服务的运行状态。</span></p><p>3<span style=\"font-family:宋体\">、</span>Server<span style=\"font-family:宋体\">的</span>web<span style=\"font-family:宋体\">端配置监控项</span></p><p><br/></p><p><span style=\"font-family:宋体\">需要特别注意图中的键值，要跟客户端中的</span>KEY<span style=\"font-family:宋体\">一一对一。</span></p><p>4<span style=\"font-family:宋体\">、为</span>tms<span style=\"font-family:宋体\">服务配置触发器</span></p><p><br/></p><p><span style=\"font-family:宋体\">此处需要注意表达式，根据脚本返回值为</span>0<span style=\"font-family:宋体\">时确认</span>tms<span style=\"font-family:宋体\">服务有问题进行报警。</span><span style=\"color:red\">*</span><span style=\"font-family:宋体\">表达式可通过表达式构建器来进行生成</span><span style=\"color:red\">*</span></p><p>5<span style=\"font-family:宋体\">、查看结果</span></p><p class=\"MsoListParagraph\" style=\"margin-left:48px;text-indent:0\"><br/></p><h2><a name=\"_Toc508788323\"></a>PHP<span style=\"font-family:宋体\">通过</span>API<span style=\"font-family:宋体\">获取</span>Zabbix<span style=\"font-family:宋体\">数据</span></h2><p><strong>&nbsp;</strong><span style=\"font-family: 宋体\">废话就免了，直接上代码……</span></p><p><span style=\"font-size:16px\">&lt;?php</span></p><p><span style=\"font-size:16px\">//</span><span style=\"font-size:16px;font-family:宋体\">要请求数据的主机名称</span></p><p><span style=\"font-size:16px\">$hostname = &#39;Linux_001&#39;;</span></p><p><span style=\"font-size:16px\">//</span><span style=\"font-size:16px;font-family:宋体\">请求内存总量的键</span></p><p><span style=\"font-size:16px\">$Memkey = &#39;vm.memory.size[total]&#39;;</span></p><p><span style=\"font-size:16px\">//</span><span style=\"font-size:16px;font-family:宋体\">请求硬盘总量的键</span></p><p><span style=\"font-size:16px\">$Diskkey = &#39;vfs.fs.size[/,total]&#39;;</span></p><p><span style=\"font-size:16px\">&nbsp;</span></p><p><span style=\"font-size:16px\">$sshKey = &#39;ssh.run[&lt;unique short description&gt;,&lt;ip&gt;,&lt;port&gt;,&lt;encoding&gt;]&#39;;</span></p><p><span style=\"font-size:16px\">&nbsp;</span></p><p><span style=\"font-size:16px\">$historylimit=1;</span></p><p><span style=\"font-size:16px\">&nbsp;</span></p><p><span style=\"font-size:16px\">$url = &#39;http://192.168.121.10/zabbix/api_jsonrpc.php&#39;;</span></p><p><span style=\"font-size:16px\">$header = array(&quot;Content-type: application/json-rpc&quot;);</span></p><p><span style=\"font-size:16px\">&nbsp;</span></p><p><span style=\"font-size:16px\">function Curl($url,$header, $info){</span></p><p><span style=\"font-size:16px\">&nbsp; $ch = curl_init();</span></p><p><span style=\"font-size:16px\">&nbsp; curl_setopt($ch,CURLOPT_URL, $url);</span></p><p><span style=\"font-size:16px\">&nbsp; curl_setopt($ch,CURLOPT_RETURNTRANSFER, 1);</span></p><p><span style=\"font-size:16px\">&nbsp; curl_setopt($ch,CURLOPT_HTTPHEADER,$header);</span></p><p><span style=\"font-size:16px\">&nbsp; curl_setopt($ch,CURLOPT_POST, 1);</span></p><p><span style=\"font-size:16px\">&nbsp; curl_setopt($ch,CURLOPT_POSTFIELDS, $info);</span></p><p><span style=\"font-size:16px\">&nbsp; $response = curl_exec($ch);</span></p><p><span style=\"font-size:16px\">&nbsp; curl_close($ch);</span></p><p><span style=\"font-size:16px\">&nbsp; return json_decode($response);</span></p><p><span style=\"font-size:16px\">}</span></p><p><span style=\"font-size:16px\">//</span><span style=\"font-size:16px;font-family:宋体\">通过用户名密码登录获取</span><span style=\"font-size:16px\">token</span></p><p><span style=\"font-size:16px\">function get_token($url, $header){</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; $user = &#39;Admin&#39;;</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; $password = &#39;zabbix&#39;;</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; $logininfo = array(</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#39;jsonrpc&#39; =&gt; &#39;2.0&#39;,</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#39;method&#39; =&gt; &#39;user.login&#39;,</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&#39;params&#39; =&gt; array(</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#39;user&#39; =&gt; $user,</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#39;password&#39; =&gt; $password,</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ),</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#39;id&#39; =&gt; 1,</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; );</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; $data = json_encode($logininfo);</span></p><p><span style=\"font-size:16px\">&nbsp;</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; $result = Curl($url, $header, $data);</span></p><p><span style=\"font-size:16px\">&nbsp;</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; $token = $result-&gt;result;</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return $token;</span></p><p><span style=\"font-size:16px\">}</span></p><p><span style=\"font-size:16px\">//</span><span style=\"font-size:16px;font-family:宋体\">通过主机名称获取主机</span><span style=\"font-size:16px\">id</span></p><p><span style=\"font-size:16px\">function get_hostid($hostname, $token, $header, $url){</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; $gethostid = array(</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#39;jsonrpc&#39; =&gt; &#39;2.0&#39;,</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#39;method&#39; =&gt; &#39;host.get&#39;,</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;params&quot; =&gt; array(</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;output&quot; =&gt; [&quot;hostid&quot;],</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;filter&quot; =&gt; array(</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;host&quot; =&gt; [$hostname]</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; )</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ),</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;auth&quot;=&gt;$token,</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;id&quot;=&gt;1</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; );</span></p><p><span style=\"font-size:16px\">&nbsp;</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; $data = json_encode($gethostid);</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; $result = Curl($url,$header,$data);</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; $hostinfo= $result-&gt;result;</span></p><p><span style=\"font-size:16px\">&nbsp; &nbsp;&nbsp; if (empty($hostinfo)){</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $hostid =&#39;&#39;;</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; }else{</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $hostid = $hostinfo[0]-&gt;hostid;</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; }</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; return $hostid;</span></p><p><span style=\"font-size:16px\">}</span></p><p><span style=\"font-size:16px\">//</span><span style=\"font-size:16px;font-family:宋体\">通过主机</span><span style=\"font-size:16px\">id</span><span style=\"font-size:16px;font-family:宋体\">获取监控项</span><span style=\"font-size:16px\">id</span></p><p><span style=\"font-size:16px\">function get_itemid($hostid, $key, $token, $header, $url){</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; $getitemid = array(</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&quot;jsonrpc&quot; =&gt;&nbsp; &quot;2.0&quot;,</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;method&quot; =&gt;&nbsp; &quot;item.get&quot;,</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;params&quot; =&gt;&nbsp; array(</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;output&quot; =&gt; [&quot;itemids&quot;],</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;hostids&quot; =&gt; $hostid,</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;search&quot; =&gt; array(</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;key_&quot; =&gt; $key</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ),</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;sortfield&quot; =&gt; &quot;name&quot;</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ),</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;auth&quot; =&gt; $token,</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;id&quot; =&gt; 1</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; );</span></p><p><span style=\"font-size:16px\">&nbsp;</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; $data = json_encode($getitemid);</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; $result =&nbsp; Curl($url,$header,$data);</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; $iteminfo = $result -&gt; result;</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; if ( empty($iteminfo )){</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $itemid = &#39;null&#39;;</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; }else{</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $itemid = $iteminfo[0]-&gt;itemid;</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; }</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; return $itemid;</span></p><p><span style=\"font-size:16px\">}</span></p><p><span style=\"font-size:16px\">&nbsp;</span></p><p><span style=\"font-size:16px\">function get_resource($itemid, $token, $header, $url, $historylimit){</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; $gethistory = array(</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;jsonrpc&quot; =&gt; &quot;2.0&quot;,</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;method&quot; =&gt; &quot;history.get&quot;,</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;params&quot; =&gt; array(</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;output&quot; =&gt; &quot;extend&quot;,</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // &quot;history&quot; =&gt; $history,</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;itemids&quot; =&gt; $itemid,</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;sortfield&quot; =&gt; &quot;clock&quot;,</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;sortorder&quot; =&gt; &quot;DESC&quot;,</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;limit&quot; =&gt; $historylimit</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ),</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;auth&quot; =&gt; $token,</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;id&quot; =&gt; 1</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; );</span></p><p><span style=\"font-size:16px\">&nbsp;</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; $data = json_encode($gethistory);</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; $result =&nbsp; Curl($url,$header,$data);</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; $historytotal = $result -&gt; result;</span></p><p><span style=\"font-size:16px\">&nbsp;</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; $resource = object_array($historytotal);</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; return $resource;</span></p><p><span style=\"font-size:16px\">}</span></p><p><span style=\"font-size:16px\">&nbsp;</span></p><p><span style=\"font-size:16px\">function object_array($array){</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; if(is_object($array)){</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $array = (array)$array;</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; }</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; if(is_array($array)){</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; foreach($array as $key=&gt;$value)</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $array[$key] = object_array($value);</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; }</span></p><p><span style=\"font-size:16px\">&nbsp;&nbsp;&nbsp; return $array;</span></p><p><span style=\"font-size:16px\">}</span></p><p><span style=\"font-size:16px\">//</span><span style=\"font-size:16px;font-family:宋体\">获取</span><span style=\"font-size:16px\">token</span><span style=\"font-size:16px;font-family:宋体\">，方便后期通信</span></p><p><span style=\"font-size:16px\">$token = get_token($url,$header);</span></p><p><span style=\"font-size:16px\">&nbsp;</span></p><p><span style=\"font-size:16px\">//</span><span style=\"font-size:16px;font-family:宋体\">获取主机</span><span style=\"font-size:16px\">id</span></p><p><span style=\"font-size:16px\">$hostId = get_hostid($hostname,$token,$header,$url);</span></p><p><span style=\"font-size:16px\">&nbsp;</span></p><p><span style=\"font-size:16px\">//</span><span style=\"font-size:16px;font-family:宋体\">获取监控项</span><span style=\"font-size:16px\">id</span></p><p><span style=\"font-size:16px\">$itemid = get_itemid($hostId, $Diskkey, $token,$header, $url);</span></p><p><span style=\"font-size:16px\">&nbsp;</span></p><p><span style=\"font-size:16px\">//</span><span style=\"font-size:16px;font-family:宋体\">获取该监控项的返回值</span></p><p><span style=\"font-size:16px\">$resource = get_resource($itemid, $token, $header, $url, $historylimit);</span></p><p><span style=\"font-size:16px\">&nbsp;</span></p><p><span style=\"font-size:16px\">//</span><span style=\"font-size:16px;font-family:宋体\">根据返回值的不同，经过计算或转换获取最终数据</span></p><p><span style=\"font-size:16px\">$data = ceil(((($resource[0][&#39;value&#39;])/1024)/1024)/1024).&#39;GB&#39;;</span></p><p><span style=\"font-size:16px\">&nbsp;</span></p><p><span style=\"font-size:16px\">print_r(&#39;</span><span style=\"font-size:16px;font-family:宋体\">该服务器硬盘总量为：</span><span style=\"font-size:16px\">&#39;.$data);die;</span></p><p><br/></p>', '1521446541', 'STRU', '131', '4');
INSERT INTO `article` VALUES ('24', '所谓傲气……一文不值！', '傲气，傲骨', '所谓傲气……一文不值！', 'uploads/20180423101526296.jpg', '<p style=\"text-align: center;\"><strong>所谓傲气……一文不值！</strong></p><p><strong><br/></strong></p><p><strong>&nbsp;&nbsp;&nbsp;&nbsp;</strong>傲气，一般是指自尊心很强，很骄傲而且对自己的各方面有自信和满足，但有时候会看不起别人，认为自己是最好的。这是百度百科的词语注释。<strong><br/></strong></p><p><br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;不觉之间已近而立之年，最近由于看了小说《斗破苍穹》，其中主人公天赋异禀，然而一场变故之后有种破而后立的感觉。然而这种立虽基于对自尊的挽回，却诸多细节不由得使人思之又思。少年成名、一落千丈、三年苦修、终雪前耻！他在其苦修期间真诚的结交了各类朋友，例如真诚的帮助解救小医仙、舍命帮助云芝、以及后来帮助冰皇接封印等等事情，期间表现出来的并无一点傲气，却浑然有一身傲骨。<br/></p><p><br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;回想往昔的自己不觉有点赤面之痛，环境造就了颇为内向的性格，后来由于遇到“姐姐”的缘故慢慢将自己放开，这个过程中似乎将前几十年积压的自己完全释放一般。但也渐渐的释放了自己那满身的傲气与无礼、无貌之态。这一路走来直到今天才意识到那傲气的害处实属羞愧难当。在此真心的对曾今被我那傲气伤害过的亲人朋友道歉！希望能得以谅解。<br/></p><p><br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;人不可有傲气，但不可无傲骨！艺术大师徐悲鸿的这句话道出了一个深刻的人生这里。满身傲气除了伤害亲朋之外最受害的其实是自己。自命不凡、自信过头，认为有点小能力就目中无人、甚少纳见、难辨是非，终归招致种种失败。那傲气最终化为一股戾气归咎到自己的能力不足之上，久而久之如同“毒药”一样日益浸泡着、“滋养”着那破败的躯体，何其可悲、何其可叹呐！<br/></p><p><br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;挥挥洒洒数百字，只求铭于心间！悔之、改之！<br/></p>', '1524451816', 'Stru', '175', '18');
INSERT INTO `article` VALUES ('25', 'PHP总结--------转载', '', '学习了这么久PHP，基础知识总感觉不牢靠，尤其是数组，字符串函数的应用，全部手敲过数次但依旧记忆不深刻，好记性不如烂笔头，记录下来吧！', 'uploads/20180626170105592.jpg', '<p><span style=\"font-size: 22px;\"><span style=\"color: rgb(0, 153, 0);\">学习了这么久PHP，基础知识总感觉不牢靠，尤其是数组，字符串函数的应用，全部手敲过数次但依旧记忆不深刻，好记性不如烂笔头，记录下来吧！</span></span></p><p><span style=\"font-size: 22px;\"><span style=\"color: rgb(0, 153, 0);\">都是基础，在回顾一下吧。</span></span></p><p><span style=\"font-size:22px\"><span style=\"color:#009900\"></span></span></p><p><span style=\"font-size:22px\"><span style=\"color:#009900\"><br/></span></span></p><p><span style=\"font-size:22px\"><strong><br/></strong></span></p><p><span style=\"font-size: 22px;\"><strong>一。PHP基础语法</strong></span></p><p><span style=\"font-size: 22px;\"><br/></span></p><p><span style=\"font-size: 22px;\">变量，常量</span></p><p>&nbsp; &nbsp;</p><p>&nbsp; &nbsp; 严格区分大小写，但内置结构或关键字无所谓(echo)</p><p>&nbsp; &nbsp; 命名：不能以数字，空格，.来开头，但是可以有汉字，eg：$变量=&quot;aa&quot;;</p><p>&nbsp; &nbsp; 可变变量：$a=&#39;aa&#39;;$$a=&quot;bb&quot;;则 $aa=&quot;bb&quot;;</p><p>&nbsp; &nbsp; 引用赋值：$a=&quot;aa&quot;; $b=&amp;$a; 则改变$a的值，$b也变化。不同：存储结构是分开的，即使unset($a),$b还在(区分C语言)</p><p>&nbsp; &nbsp; 变量类型：int str array bool object float resource null</p><p>&nbsp; &nbsp; 全局变量：<span style=\"font-family:tahoma,arial,宋体; background-color:rgb(221,237,251)\">全局变量本身就是静态存储方式,所有的全局变量都是静态变量</span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $_SESSION, &nbsp;$_COOKIE, &nbsp;$_POST, &nbsp;$_GET, &nbsp;$_REQUEST, $_FILES,$_EVN</p><p>&nbsp; &nbsp; 静态变量：</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; static &nbsp;[详细见下图]&nbsp;</p><p>&nbsp; &nbsp; 静态方法：<span style=\"font-family:tahoma,arial,宋体\">静态方法不需要所在类被实例化就可以直接使用。</span></p><p><span style=\"font-family:tahoma,arial,宋体\"><span style=\"background-color:rgb(221,237,251)\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Math::Max($a,$b);（未实例化Math类直接调用静态方法Max）</span></span></p><p>&nbsp; &nbsp; 常量：</p><p>&nbsp; &nbsp; &nbsp; &nbsp; define(&quot;NAME&quot;,$value,[TRUE]);//如果第三个参数为true，则不区分大小写，默认是区分大小写的</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 预定义常量：</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PHP_OS=&quot;WINDOWS&quot;; &nbsp;PHP_VERSION=&quot;版本&quot;;&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; E_ERROR=1,错误，导致脚本终止; &nbsp;E_WARNING=2，警告，脚本不终止 ；</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;E_NOTICE=8,非关键性错误</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 魔术常量：</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; __FILE__ &nbsp; &nbsp;当前文件名称</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; __CLASS__ &nbsp; &nbsp;当前类名称<br/></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; __FUNCTION__ &nbsp; &nbsp; &nbsp;当前函数名称<br/></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; __METHOD__ &nbsp; &nbsp; &nbsp; &nbsp;当前方法名称<br/></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; __LINE__ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;当前行数名称</p><p><img src=\"http://www.struphp.com/resources/org/ueditor/themes/default/images/spacer.gif\" style=\"background:url(http://www.struphp.com/resources/org/ueditor/lang/zh-cn/images/localimage.png) no-repeat center center;border:1px solid #ddd\" word_img=\"file:///C:/Users/fengfeng/AppData/Local/YNote/data/qq975E7BE0FAF602F6EDC85D14CDD27B67/f9af7093b47a497396fffdb470b0566b/clipboard.png\"/><img src=\"http://www.struphp.com/resources/org/ueditor/themes/default/images/spacer.gif\" style=\"background:url(http://www.struphp.com/resources/org/ueditor/lang/zh-cn/images/localimage.png) no-repeat center center;border:1px solid #ddd\" word_img=\"file:///C:/Users/fengfeng/AppData/Local/YNote/data/qq975E7BE0FAF602F6EDC85D14CDD27B67/29850c828fb7489f97cb7b684e8fea02/clipboard.png\"/></p><p><span style=\"white-space:pre\"></span></p><p style=\"text-align:center\"><img src=\"https://img-blog.csdn.net/20160421225235343?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center\" alt=\"\"/></p><p><span style=\"white-space:pre\"></span><br/></p><p><span style=\"white-space:pre\"></span></p><p style=\"text-align:center\"><img src=\"https://img-blog.csdn.net/20160421225243859?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center\" alt=\"\"/></p><p><span style=\"white-space:pre\"></span>总结：</p><p>&nbsp; &nbsp; <span style=\"white-space:pre\"></span>&nbsp;(全局)常量：（默认常量就是全局的）存储在(静态)数据段</p><p><br/></p><p><span style=\"white-space:pre\"></span>变量</p><p>&nbsp; &nbsp; <span style=\"white-space:pre\"></span>全局变量：存储在静态数据段</p><p>&nbsp; &nbsp; <span style=\"white-space:pre\"></span>局部变量：存储在栈中</p><p>&nbsp; &nbsp; <span style=\"white-space:pre\"></span>静态变量：(不管全局/局部)存储在静态数据段中</p><p><br/></p><p><span style=\"font-family:微软雅黑; widows:auto; font-size:22px\">类型转换</span></p><p>&nbsp; &nbsp; 1.gettype($a);//获取变量的类型(原文中是setType是错误的)</p><p>&nbsp; &nbsp; 2.$b=(int)$a;//把$a转换为整形</p><p>&nbsp; &nbsp; &nbsp;$b=intval($a);</p><p>&nbsp; &nbsp; 3.is_int($b);//判断$b是否为整形，返回bool值</p><p><br/></p><p>&nbsp; &nbsp; 类型转换：(int),(bool),(float),(),(string),(),(array),(),(object);&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; intval(),floatval();strval()</p><p>&nbsp; &nbsp; 判断类型：</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; is_bool/int/float/string/array/object/resource/null</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; is_numberic();&#39;//判断是否为任何类型的数字或者数组字符串</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; is_callable();//判断是否为有效函数名称</p><p><span style=\"font-family:微软雅黑; widows:auto; font-size:22px\">运算符</span></p><p>&nbsp; &nbsp; &nbsp;算数运算符：+ - * / % ++ --</p><p>&nbsp; &nbsp; &nbsp;连接运算符：<span style=\"background-color:orange\">&nbsp;.</span></p><p>&nbsp; &nbsp; &nbsp;赋值运算符： =, +=,-=,*=,/=,%=,.=</p><p>&nbsp; &nbsp; &nbsp;比较运算符：&gt;,&lt;,==,===,!= &lt;&gt;,!==</p><p>&nbsp; &nbsp; &nbsp;逻辑运算符： and,&amp;&amp; &nbsp;; &nbsp; or,|| &nbsp; ; &nbsp; not,! &nbsp;; &nbsp;xor(逻辑异或，两边不同返回TRUE，相同返回FALSE)</p><p>&nbsp; &nbsp; &nbsp;位运算符 &nbsp; &nbsp;： &amp; ；|；^(异或，不同返回1)；~(非运算符，1.0取反)；&lt;&lt;左移，右边空出的补0；&gt;&gt;右移左边空出的补0</p><p>&nbsp; &nbsp; &nbsp;其他运算符：&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"background-color:orange\">&nbsp;?: &nbsp;三目运算符 &nbsp; &nbsp;举例：$a=$bool?$b:$c; //若$bool成立，$a=$b;否则$a=$c</span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; @ 忽略错误</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt;数组下标用</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -&gt;调用对象值用</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ·· 反引号为执行运算符？？&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; instanceof 类型运算符 &nbsp;class ClassOne{} $a=new ClassOne(); var_dump( &nbsp;$a instanceof ClassOne &nbsp;);//返回true</p><p><span style=\"font-family:微软雅黑; widows:auto; font-size:22px\">流程控制</span></p><p><br/></p><p>&nbsp; &nbsp; &nbsp; &nbsp; 1.if(){}else{}</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 2.while(){};</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 3.do{}while();$</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 4.for($a=1;$a&lt;10;$a++){}</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 5.switch($a){</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 1:echo 1; break;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 2:echo 2;break;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default: echo &quot;this is defaut value&quot;;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</p><p>&nbsp; &nbsp;&nbsp;continue,break;exit &nbsp; 区别：</p><p>&nbsp; &nbsp; &nbsp; &nbsp; continue跳过当前循环，循环还在继续</p><p>&nbsp; &nbsp; &nbsp; &nbsp; break 跳出当前循环，循环终止</p><p>&nbsp; &nbsp; &nbsp; &nbsp; exit; &nbsp; 终止当前脚本，这行代码后边的代码不执行了就</p><p><span style=\"font-family:微软雅黑; widows:auto; font-size:22px\">函数&nbsp;</span></p><p>&nbsp; &nbsp;命名：遵循变量命名规则即可，函数不可一被重载、</p><p>&nbsp; &nbsp;作用：函数实现了结构化编程，提高了代码的可维护性</p><p>&nbsp; &nbsp;</p><p>&nbsp; &nbsp; 全局变量：整个脚本中皆可以使用</p><p>&nbsp; &nbsp; 局部变量：只有在函数体内使用，执行完函数自动释放</p><p>&nbsp; &nbsp; &nbsp; &nbsp;|---&gt; 分为静态存储类型和动态存储类型； &nbsp;static $a为静态变量，函数执行完后，不会被释放</p><p>&nbsp; &nbsp; 函数内局部变量编程全局变量：1.global ; 2.$GLOBAL[&#39;&#39;]使用全局数组 &nbsp;&nbsp;</p><p><span style=\"font-size:22px\"><span style=\"font-size: 14px;\"><br/></span></span></p><p><span style=\"font-size:22px\"><span style=\"font-size: 14px;\">&nbsp; &nbsp;&nbsp;</span><span style=\"font-size:14px\"><strong>几种类型函数</strong></span></span></p><p><span style=\"font-size:22px\"><span style=\"font-size: 14px;\">&nbsp; &nbsp; 1.引用参数的函数：function(&amp;$a){}//函数内对形参$a的操作，会对实参也造成影响 eg:sort()</span></span></p><p><span style=\"font-size:22px\"><span style=\"font-size: 14px;\">&nbsp; &nbsp; 2.默认参数的函数：function($a=0){}//没有参数传入的话，默认$a=0</span></span></p><p><span style=\"font-size:22px\"><span style=\"font-size: 14px;\">&nbsp; &nbsp; 3.可变参数个数的函数：function($a,$b$c,...){}</span></span></p><p><span style=\"font-size:22px\"><span style=\"font-size: 14px;\">&nbsp; &nbsp; &nbsp; &nbsp; //原理：通过fun_get_args()函数，接受所有参数并返回一个数组来使用，所以可以有多个参数 &nbsp;EG: echo(),array_merge()</span></span></p><p><span style=\"font-size: 22px;\"><span style=\"font-size: 14px;\">&nbsp;&nbsp;</span><span style=\"font-size: 14px; background-color: orange;\">&nbsp;\r\n 4.回调函数：</span><span style=\"font-size: 14px;\">$fun=&quot;one&quot;; function one(){} &nbsp;当调用$fun()的时候，就是再调用one()函数，call_user_func_array()</span></span></p><p><span style=\"font-size: 22px;\"><span style=\"font-size: 14px;\">&nbsp;&nbsp;</span><span style=\"font-size: 14px; background-color: orange;\">&nbsp;\r\n 5.递归函数：</span><span style=\"font-size: 14px;\">function test(){ test()}//在函数中再次调用函数，但注意死循环的问题，要有执行结束跳出</span></span></p><p><span style=\"font-size:22px\"><br/></span></p><p><span style=\"font-size:22px\"><br/></span></p><p><span style=\"font-size:22px\"><br/></span></p><p><span style=\"font-size:22px\"><strong>二。PHP常用函数</strong></span></p><p><span style=\"font-size:22px\"><br/></span></p><p><span style=\"font-size: 22px; line-height: 33px;\"></span></p><p><span style=\"font-size: 22px; line-height: 33px;\">常用函数：</span></p><p>&nbsp; &nbsp; echo()【语言结构】</p><p>&nbsp; &nbsp; print()//<span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">【语言结构】</span>【有返回值】，若传输失败导致没有输出，它返回false<br/></p><p>&nbsp; &nbsp; var_dump()</p><p>&nbsp; &nbsp; var_export()<span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">【有返回值，翻译一个合法的PHP代码】</span></p><p>&nbsp; &nbsp; printf()//类似与C语言的形式&nbsp;<span style=\"font-size: 12px; line-height: 1.5;\">printf(&quot;my name is %s, age %d&quot;, $name, $age);,打印出来</span></p><p>&nbsp; &nbsp; sprintf()//<span style=\"font-size: 12px; line-height: 1.5;\">跟printf相似，但不打印，而是返回格式化后的文字，其他的与printf一样</span><br/></p><hr/><p><br/></p><p><span style=\"font-size: 22px;\">数组函数：</span></p><p>1.排序类：<span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\"><span style=\"background-color: orange;\">【1.无返回值，传值引用，就直接对原数组进行了修改】</span></span></p><p>&nbsp; &nbsp; 按V：sort,rsort,asort,arsort,</p><p>&nbsp; &nbsp;&nbsp;按K：ksort,krsort</p><p>&nbsp; &nbsp; 按字母：<span style=\"background-color:orange\">natsort();//区分大小写的排序</span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style=\"background-color:orange; line-height:1.5\">natcasesort();//不区分大小写的排序，</span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">当遇到字符完全一样，按照数字排 eg: FILE1,FILE2, 这两个字符相同，再按照数字1&lt;2排，所以结果&nbsp;<strong><span style=\"font-weight:normal\">&nbsp;FILE1,FILE2</span></strong></span></p><p>&nbsp; &nbsp; 回调：<span style=\"background-color:orange\">usort($arr,&quot;strnatcmp&quot;)</span>//回调类的排序，把$arr数组里的每一个元素丢到strnatcmp()[非自然数排序]处理【返回新的排序数组】</p><p>&nbsp; &nbsp; 规律：</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 没有&quot;k&quot;，排序按照【value】排序，排序有&quot;a&quot;的表示要保留KEY，有&quot;r&quot;的倒序排</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;有“k”,排序按照【KEY】排序，<span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">有&quot;r&quot;的倒序排</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;有&quot;u&quot;的，表示要丢到回调函数中处理的</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\"><br/></span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; 2.键值操作类：【都有返回值，没有在原来参数上修改】</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 1</span><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important; background-color: orange;\">.array_values($arr);</span><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">//获取$arr中的值</span><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\"><span style=\"color: rgb(255, 0, 0);\">重排</span></span><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">，去掉下标【返回值新索引数组】</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 2.array_keys($arr[,&quot;str&quot;,true])//获取$arr中所有字符是&quot;str&quot;的下标，形成索引数组，true表示区分大小写【返回新索引数组】</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 3.array_search(</span><span style=\"line-height: 1.5;\">&quot;is&quot;,$arr[,true]</span><span style=\"line-height: 1.5; color: rgb(51, 51, 51); font-family: Monaco, Consolas, Courier, &#39;Lucida Console&#39;, monospace;\"><span style=\"color:rgb(0,0,0); font-family:&quot;Microsoft YaHei&quot;,STXihei!important\">)&nbsp;</span><span style=\"color: rgb(0, 0, 0); font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">//返回值&quot;is&quot;在$arr中的key，找不到返回fales,true表示严格按照类型(8,&quot;8&quot;)【返回第一个匹配值】</span></span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 4.in_array(&quot;str&quot;,$arr);//判断&quot;str&quot;在$arr中是否存在，【返回BOOL】</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 5.is_array($arr);//判断是否是数组【返回BOOL】</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 6.</span><span style=\"line-height: 1.5;\">array_key_exists(</span><span style=\"line-height: 1.5;\">$key,$arr);\r\n //查询$arr中是否有$key，【返回BOOL】</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 7.array_flip($arr);// 交换键值，如有重复，后来居上，【返回新数组】</span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; 8.array_reverse($arr,[true|false]);//数组顺序反转，param2是否保留原来键值【返回新关联/索引数组】</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 9.<span style=\"background-color:orange\">array_column(</span>array(),&#39;name&#39;[,name_two])&nbsp;—&nbsp;返回数组中指定的name列[可选参数，如果有返回name=&gt;name_two的形式]【返回一维数组】</p><p><span style=\"background-color:rgb(242,242,242); color:rgb(51,51,51); font-size:16px; font-family:&#39;Fira Sans&#39;,&#39;Source Sans Pro&#39;,Helvetica,Arial,sans-serif\"></span></p><p><br/></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp;3.元素个数和唯一性</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;1.array_unique($arr);//去掉$arr中的重复值，重复的保留第一个值，【返回数组，键值保留】</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 2.array_count_values($arr)//统计数组值出现的次数，【返回数组，KEY为原来数组的值，VALUE为统计的次数】</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 3.count($arr[,1])/sizeof();//统计$arr的元素个数，参数&quot;1&quot;表示统计多维数组开启，默认0为关闭【返回统计个数】</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\"><br/></span></p><p><strong>&nbsp; 4.回调函数</strong></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 1.array_filter($arr,&quot;function&quot;);//把$arr放到函数function中处理，【返回判断为TRUE的数据组成新数组，键值保留】</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 2.array_walk($arr,&quot;function&quot;[,&quot;data&quot;]);//把$arr放到</span><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important; background-color: orange;\">function(</span><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important; background-color: orange;\"><span style=\"color:#c00000; background-color:inherit\">&amp;</span></span><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important; background-color: orange;\">$v,$k,$data)</span><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">中处理【返回值为bool】</span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; 3.array_map(&quot;function&quot;,$arr,$arr2,$arr3,....);//把所有数组返回到回调函数统一处理，【返回数组】</p><p>&nbsp; &nbsp; &nbsp; &nbsp; \r\n4.array_reduce($arr,myfunction[,initial])：把一维数组$arr中的值依次传到自定义函数myfunction($v1,$v2)的v2上，v1为累加值类似于(\r\n .= ),[如果有initial，先把其当v1传进去]【返回字符串】</p><p><br/></p><p><strong>&nbsp; 5.拆分，合并，分解，接合数组</strong></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 1.array_slice($arr,1[,2]);//在$arr中，从第二个开始</span><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\"><span style=\"color: rgb(255, 0, 0);\">取</span></span><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">[，返回俩个值]【返回新数组(对原数组无影响)，键值保留】</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 2.array_splice($arr,1[,2,&quot;aaa&quot;,&quot;bb&quot;]);//</span><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\"><span style=\"color: rgb(255, 0, 0);\">删除或替换</span></span><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">，从$arr第二个开始取，删除或替换2个值【返回值为新数组，拆掉原数组】</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 3.array_combine($arr1,$arr2);//数组$arr1为KEY,$arr2为VALUES结合形成新索引数组【返回索引数组】</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 4.array_merge($arr1,$arr2,$arr3...);//数组进行合并，保留键值，有重复，后来者居上【返回新数组】</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;array_merge发现有key值相同的，取后者；</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$arr1+$arr2&nbsp;发现有key值相同的，取前者，第二个重复的值丢弃</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 5.array_intersect($arr1,$arr2)//返回两个数组的交集，键值不变</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 6.array_diff($arr1,$arr2)//返回两数组的差集，返回的值为第一个数组的值，键值不变</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 7.array_chunk($arr,2)//分割数组,把$arr按照【2个为一组】均等分割【返回一个二维数组】</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\"><br/></span></p><p>&nbsp; 6.数组的数据结构<span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\"><span style=\"background-color: orange;\">【2.无返回值，传值引用，就直接对原数组进行了修改】</span></span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 1.array_shift($arr)//从开头，删除数组第一个元素</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 2.array_unshift($arr,&quot;one&quot;,&quot;two&quot;)//从开头，添加元素</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 3.array_pop($arr)//从结尾，删除数组最后一个元素</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 4.array_push($arr,&quot;aaa&quot;);//从结尾，添加元素</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; 6.current($arr)//<span style=\"line-height: 1.5;\"><span style=\"font-family: SimSun, STSong !important;\">返回数组中的当前单元 比如是关联数组是不知道下标，可以输出当前数组的办法解决</span></span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 7.key($arr)//返回当前指针指向元素的键值</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 8.next($arr)//当前指针下移</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 9.pre($arr)//当前指针上移</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 10.end($arr)//指针指到最后</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 11.reset($arr)//指针回归到开头</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 12.unset($arr)//销毁此数组</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\"><br/></span></p><p><strong>&nbsp; 7.其他</strong></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 1.array_rand($arr,2);//随机返回两个$arr数组当中的key【返回值为值或者数组】</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 2.shuffle($arr)//随机的重组$arr，顺序变乱【返回新数组，保留键值】</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 3.array_sum($arr);//返回$arr的value的和【返回一个值】</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 4.range(0,10,2,)//快速创建0，10的数组，间隔为2，所以有5个值【返回新索引数组】</span></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp; &nbsp; &nbsp; &nbsp; 5.</span><span style=\"line-height: 1.5; font-family: Monaco, Consolas, Courier, &#39;Lucida Console&#39;, monospace;\">http_build_query($arr)//把关联数组转换成一个经过urlencode加密的URL\r\n eg:array[&quot;a&quot;=&gt;2];=&gt;URL:a=2&amp;</span><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\"><br/>&nbsp; &nbsp; &nbsp; &nbsp;</span></p><hr/><p><br/></p><p><span style=\"font-size:22px\">字符串函数</span></p><p>&nbsp; &nbsp; &nbsp; &nbsp;返回bool</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;1.isset($a)//当$a=NULL 或不存在，返回false，反之为true</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2.empty($a)//当$a=NULL/&#39;&#39;/array()/0/&#39;0&#39;/不存在 时 返回true,反之为false</p><p><br/></p><p><br/></p><p>&nbsp; &nbsp; &nbsp; &nbsp; 返回值为自字符</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.<span style=\"background-color:orange\">substr</span><span style=\"background-color:orange\">(字符串,开始地方,[<span style=\"background-color:inherit\">返回字符串的长度</span>]);/</span>/&nbsp;截取字符串的一部分,第一个字符位置为0</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2.substr_replace($str,&quot;aaa&quot;,start[,length]);在$str上操作，从第start个开始,把【后边】的字符<span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">[</span>全/<span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">或</span><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">length个]<strong>替换</strong></span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.sub_count($str,&quot;is&quot;[,5,10]);//<span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\"><span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\">[\r\n 从第五个字符开始，搜索长度为10，]搜索is在$str中出现的次数，【<span style=\"background-color:inherit\">返回次数</span>】</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4.<span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important; background-color: orange;\">strstr($email,&quot;@&quot;[,true])&nbsp;</span><span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">&nbsp;\r\n &nbsp;//从头开始搜索,无true返回@后边字符，有true返回@前边的字符[strrchr对比]</span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 5.strrchr($email,&quot;@&quot;)//从结尾开始搜索，返回@后的所有字符</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 6.<span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important; background-color: orange;\">str_replace(被替换词,替换词，被搜索字符串，[统计替换次数$num])&nbsp;&nbsp;&nbsp;<span style=\"color:#ff0000; background-color:inherit\">前两个参数也可为数组</span>，两个数组元素个数相同</span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 7.str_repeat($str,num);//重复$str字符串 num次，</p><p><br/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;返回值为数字类的</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.<span style=\"background-color:orange\">strpos($str,&quot;@&quot;);</span>//返回@【第一次出现的位置】</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2.strrpos($str,&quot;@&quot;);//返回@【最后一次出现的位置】</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3.str_word_count($str[,0/1/2]);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //返回$str中单词的数量[0指返回次数,默认值/1指以数组形式返回单词值/2指返回关联数组，k为单词首字母下标,v单词值]</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4.strcmp($str1,$str2);//按ASCII码比较&nbsp;<span style=\"font-weight:bold\"><strong><span style=\"font-weight:normal\">str1&gt;str2\r\n 则返回1 相等返回0 &lt;返回-1 &nbsp;</span>strcasecmp不<span style=\"font-weight:normal\">区分大小写的比较</span></strong></span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 5.strnatcmp($str1,$str2);//按自然数的排序比较，上边的比较10&lt;2；本函数比较10&gt;2,按自然数大小来的</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;strcasecmp($str1,$str2);strnatcasecmp//以上4个函数，$str1，$str2比较，【返回值：相等0，小于-1，大于1】</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6.<span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\">&nbsp;</span><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\">number_format(10000[,2]);\r\n &nbsp; &nbsp; &nbsp; &nbsp;//==》10,000.00 &nbsp; &nbsp; &nbsp; &nbsp;把第一个参数格式化,保留2位小数</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p><span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\">&nbsp;\r\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7. strlen($string);<span style=\"color:rgb(69,69,69); font-family:arial,宋体,sans-serif,tahoma,&quot;Microsoft YaHei&quot;\">成功则返回字符串 $string 的长度</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p><span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\">&nbsp;\r\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8. mb_strlen($string,&#39;utf8&#39;);//获取字符串$string长度，<span style=\"color:rgb(69,69,69); font-family:arial,宋体,sans-serif,tahoma,&quot;Microsoft YaHei&quot;\">多字节的字符被计为 1。 &nbsp;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p><br/></p><p>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;文本处理类</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.strtoupper($str)//字母全转为大写【返回全大写字符串】</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2.strtolower()//字母全转为小写【返回全小写字符串】</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.<span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">strtotime(&#39;2015-10-10 10:10:10&#39;);//指定时间转换为时间戳【返回时间戳】</span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4.<span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\"><span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\">str_pad($str<span style=\"background-color:inherit\">,length</span>,[---，STR_PAD_BOTH]);\r\n //在$str的两边<span style=\"background-color:inherit\">填补</span>“---“，<span style=\"background-color:inherit\">注意，length若小于$str长度，不填补</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>&nbsp;&nbsp;&nbsp;&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 5.trim($str<span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">[</span>,&quot;a&quot;,<span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\">STR_PAD_BOTH</span>])//<span style=\"font-family: &#39;Microsoft YaHei&#39;, STXihei !important;\"><span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:orange\"><span style=\"background-color:rgb(255,255,255)\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\"><span style=\"background-color:inherit\">&nbsp;去除</span>两边/左/右的空白或&quot;a&quot;,默认是空白，或自定义字符</span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 6.floatval(&quot;123.45aa&quot;)//=》获取变量的浮点值【123.45】</p><p><span style=\"line-height: 1.5;\"></span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 7.ucfirst()//整个$str首字母大写</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 8.ucword()//$str每个单词首字母大写</p><p><br/></p><p>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;HTML类处理</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.<span style=\"background-color:orange\">htmlspecialchars($str)//</span><span style=\"line-height: 1.5;\">函数把【预定义字符】转换为【 HTML 实体】，&amp;转换成&amp;amp</span></p><p><span style=\"background-color:orange\"><span style=\"background-color:rgb(249,249,249); font-size:12px; font-family:Verdana,Arial,宋体\"></span></span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; htmlspecialchars_decode($str);//把【HTML实体】转换成【预定义字符】，&amp;amp转换成&amp;</p><p><span style=\"line-height: 1.5; font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2.<span style=\"font-family:&quot;Microsoft YaHei&quot;,STXihei!important\">htmlentities($str);,函数把【预定义字符】转换为【\r\n HTML 实体】，&amp;转换成&amp;amp，</span><span style=\"font-family:&quot;Microsoft YaHei&quot;,STXihei!important\"><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif;\">有乱码问题，</span></span>注意第二第三个参数，若编码不正确，会在实体化时把信息丢失</span></p><p><span style=\"line-height: 1.5;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"line-height: 1.5;\">html_entity_decode($str)////把【HTML实体】转换成【预定义字符】，&amp;amp转换成&amp;, &nbsp;&amp;gt 转成 &lt;</span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.addslashes($html)； &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;//添加转义字符“/”</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;stripslashes($html); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;//删除转义字符“/”</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;4.strip_tags($html); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //去除HTML标签<br/></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 5.nl2br($str) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//在$str中的换行/n前插入&lt;br&gt;，因为\\n在源码可以换行，但是在浏览器窗口不行，有这个就可以</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 6.iconv(<span style=\"background-color:rgb(242,242,242); color:rgb(51,51,51); font-size:16px; font-family:&quot;Fira Sans&quot;,&quot;Source Sans Pro&quot;,Helvetica,Arial,sans-serif\"><span style=\"background-color:inherit\">&nbsp;from</span></span>_charset&nbsp;;&nbsp;to_charset,$str);\r\n &nbsp; &nbsp; &nbsp; &nbsp;//转化字符格式&nbsp; &nbsp; &nbsp;$file_name = iconv(&quot;gb2312&quot;,&quot;utf-8&quot;,$file_name);</p><p><br/></p><p><br/></p><hr/><p><br/></p><p><span style=\"font-size:22px\">正则函数[</span><span style=\"font-size:22px\"><span style=\"color: rgb(127, 127, 127);\">原则，能用字符串函数解决不用正则，速度问题</span></span><span style=\"font-size:22px\">]</span><br/></p><p>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;字符串的匹配查找</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.<span style=\"background-color:orange\">preg_match($pattern,$subject,$arr);</span>//按正则$pattern处理$subject,第一次匹配结果返回到数组中【函数的返回值为匹配次数】</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2.<span style=\"background-color:orange\">preg_match_all(</span><span style=\"background-color: orange;\">$pattern,$subject,$arr</span><span style=\"background-color:orange\">)</span>//按正则$pattern处理$subject,<strong>全部</strong>匹配结果返回到数组中【函数的返回值为匹配次数】</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.strstr($str,&quot;@&quot;[,true]);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4.strpos,strrpos,substr($str,position)//联合使用</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;字符串的替换</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.preg_replace($pattenr,$replace,$str);//【强大的字符串处理函数】</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 在$str中,把$parrern匹配的值替换成$replcae【返回值为处理后的字符串】</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2.str_replace($str,&quot;aaa&quot;,&quot;bbb&quot;);//把$str中的aaa换成bbb</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;字符串的分割和链接</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.preg_split($pattern,$str);<span style=\"line-height: 1.5;\">通过一个正则表达式分隔字符串【返回值为数组】</span><span style=\"line-height: 1.5;\">&nbsp;\r\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p><p><span style=\"line-height: 1.5;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 举例：</span><span style=\"line-height:1.5; color:rgb(0,0,187); font-family:&#39;Fira Mono&#39;,&#39;Source Code Pro&#39;,monospace\">$keywords&nbsp;</span><span style=\"line-height:1.5; color:rgb(0,119,0); font-family:&#39;Fira Mono&#39;,&#39;Source Code Pro&#39;,monospace\">=&nbsp;</span><span style=\"line-height:1.5; color:rgb(0,0,187); font-family:&#39;Fira Mono&#39;,&#39;Source Code Pro&#39;,monospace\">preg_split</span><span style=\"line-height:1.5; color:rgb(0,119,0); font-family:&#39;Fira Mono&#39;,&#39;Source Code Pro&#39;,monospace\">(</span><span style=\"line-height:1.5; color:rgb(221,0,0); font-family:&#39;Fira Mono&#39;,&#39;Source Code Pro&#39;,monospace\">&quot;/[\\s,]+/&quot;</span><span style=\"line-height:1.5; color:rgb(0,119,0); font-family:&#39;Fira Mono&#39;,&#39;Source Code Pro&#39;,monospace\">,&nbsp;</span><span style=\"line-height:1.5; color:rgb(221,0,0); font-family:&#39;Fira Mono&#39;,&#39;Source Code Pro&#39;,monospace\">&quot;hypertext&nbsp;language,&nbsp;programming&quot;</span><span style=\"line-height:1.5; color:rgb(0,119,0); font-family:&#39;Fira Mono&#39;,&#39;Source Code Pro&#39;,monospace\">);</span></p><pre style=\"font-family:Monaco,Consolas,Courier,&#39;Lucida Console&#39;,monospace; color:rgb(51,51,51); background-color:rgb(255,255,255)\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;结果Array([0]&nbsp;=&gt;&nbsp;hypertext,[1]&nbsp;=&gt;&nbsp;language[2]&nbsp;=&gt;&nbsp;programming)</pre><p><span style=\"color:rgb(51,51,51); font-family:&#39;Fira Sans&#39;,&#39;Source Sans Pro&#39;,Helvetica,Arial,sans-serif; font-size:16px; background-color:rgb(242,242,242)\"></span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2.explode(&quot;,&quot;,$str[,$limit_num]);//把$str按照&quot;，&quot;分割成一个数组[可选参数为返回数组的元素个数]【返回一个分割后的数组】</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.impolde(&quot;+&quot;,$arr);//把$arr里的元素按照“+”链接成一个字符串</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p><hr/><p><br/></p><p><span style=\"font-size:22px\">文件处理函数</span><br/></p><p>&nbsp; &nbsp;&nbsp;&nbsp;[$file=c://php/index.php]</p><p>&nbsp; &nbsp;基础函数</p><p>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;1.file_exists($file)//文件是否存在，【true/false】</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 2.filesize($file) &nbsp;//返回文件的大小【大小字节/出错false】</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 3.is_readale($file)//是否可读【返回bool】</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 4.is_writeable($file)//是否可写【返回bool】</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 5.is_executable($file)//是否可执行【返回bool】</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 6.filectime($file)//文件创建时间【时间戳】</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 7.filemtime($file)//文件修改时间【时间戳】</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 8.fileatime($file)//文件访问时间【时间戳】</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 9.stat($file)//返回文件的大部分信息【文件信息数组】</p><p><br/></p><p>&nbsp;&nbsp;目录的基本操作&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;1.basename($file)//返回文件名，index.php</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 2.dirname($file)//返回文件的路径，c://php/</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 3.pathinfo($file)//返回该文件路径的所有信息&nbsp;<span style=\"line-height:1.5\"></span></p><p><span style=\"color: rgb(68, 68, 68); font-family: &#39;Microsoft YaHei&#39;, SimSun, &#39;Arial Narrow&#39;;\">[&quot;dirname&quot;目录名]&nbsp;[&quot;basename&quot;文件名]&nbsp;[&quot;extension&quot;文件后缀]</span></p><p>&nbsp; &nbsp; &nbsp;&nbsp;</p><p>&nbsp; &nbsp; 目录复制，删除，统计大小使用的总结：</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 本质：依靠递归思想，对目录的的循环遍历,通过每一个文件的操作，得出结果</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 函数：</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 复制：copy($org,$to);mkdir()</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 删除：unlink($file);mrdir();</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 统计大小:filesize($file)</p><p>&nbsp; &nbsp; &nbsp;遍历目录</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 1.opendir($file)//打开一个目录，参数为目录名或目录路径【返回资源型的目录句柄$dir_handle,无权限返false】</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 2.readdir($dir_handle);//读取目录，参数为目录句柄，while,返回当前指向对象的名字，目录指针后移【返回filename,没有是返false】</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 3.closedir($dir_handle)//关闭打开的目录</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 4.rewinddir($dir_handle) //倒回目录句柄，将目录指针重置到目录开始<span style=\"line-height: 1.5;\">&nbsp; &nbsp;&nbsp;</span></p><pre style=\"font-family:宋体; color:rgb(248,248,242); font-size:10.5pt; background-color:rgb(39,40,34)\">function&nbsp;(){\r\n&nbsp;&nbsp;&nbsp;$num;$dir_handle();\r\n;\r\n{};\r\n;\r\n;\r\n;\r\n($file_name($dir_handle)){\r\n($file_name&nbsp;$file_name);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cur_path$file_name;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$bgcolor$num;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cate($cur_path);\r\n{$bgcolor};\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$file_name&nbsp;($file_name);\r\n{$file_name};\r\n{$cate};\r\n($cur_path);\r\n(,($cur_path));\r\n;\r\n&nbsp;&nbsp;&nbsp;}\r\n{$num};\r\n;\r\n}</pre><p><strong>&nbsp; &nbsp; &nbsp; 建立和删除目录</strong><br/></p><p><strong>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;1.</strong>mkdir(&quot;dir_name&quot;);//建立一个空的目录</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 2.rmdir(&quot;dir_name&quot;);//删除一个空的目录</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unlink(&quot;file_name&quot;)//删除一个文件，当删除目录是，必须删除该目录下的文件</p><pre style=\"font-family:宋体; color:rgb(248,248,242); font-size:10.5pt; background-color:rgb(39,40,34)\"><pre style=\"font-family:宋体; font-size:10.5pt; background-color:rgb(39,40,34)\">(){\r\n(())();\r\n(())();;</pre><pre style=\"font-family:宋体; font-size:10.5pt; background-color:rgb(39,40,34)\">&nbsp;&nbsp;&nbsp;$dir_handle();($cur_name($dir_handle)){//遍历文件夹\r\n($cur_name&nbsp;$cur_name);$cur_path$cur_name;\r\n(($cur_path)){\r\n($cur_path);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}{\r\n($cur_path);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;}\r\n($dir_handle);\r\n();\r\n}\r\n\r\n(){\r\n();\r\n}</pre><br style=\"background-color:inherit\"/></pre><p><br/></p><p>&nbsp; &nbsp; &nbsp; 统计目录大小【得自定义函数，不自带】</p><pre style=\"font-family:宋体; color:rgb(248,248,242); font-size:10.5pt; background-color:rgb(39,40,34)\">function&nbsp;(){\r\n&nbsp;&nbsp;&nbsp;$dir_size;\r\n(())();\r\n(())();$handle();\r\n($cur_name($handle)){\r\n($cur_name$cur_name);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cur_path$cur_name;(()){\r\n$dir_size($cur_path);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n(()){\r\n$dir_size&nbsp;($cur_path);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;}\r\n$dir_size;\r\n}\r\n(,){\r\n();\r\n()&nbsp;{\r\n(,&nbsp;);\r\n;\r\n(,&nbsp;);\r\n;\r\n(,&nbsp;);\r\n;\r\n(,&nbsp;);\r\n;\r\n(,&nbsp;);\r\n\r\n&nbsp;&nbsp;&nbsp;}\r\n(,);\r\n}</pre><p>&nbsp; &nbsp; &nbsp;&nbsp;复制一个目录及文件<strong>【得自定义函数，不自带】</strong>&nbsp; &nbsp; &nbsp;</p><pre style=\"font-family:宋体; color:rgb(248,248,242); font-size:10.5pt; background-color:rgb(39,40,34)\">(,){\r\n(())();(())();$handle();($cur_name($handle)){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cur_path$cur_name;$cur_to_path$cur_name;($cur_name$cur_name);\r\n(($cur_path)){\r\n($cur_path,$cur_to_path);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n(($cur_path)){\r\n($cur_path,$cur_to_path);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;}\r\n($handle);}</pre><p>&nbsp;&nbsp;</p><p>文件的基本操作</p><p>&nbsp; &nbsp; &nbsp; 1.fopen($fileName,&quot;模式字符r,w,x&quot;)//打开一个文件，【返回值为资源型$handle】</p><p>&nbsp; &nbsp; &nbsp; 2.fclose($handle) &nbsp; &nbsp;//关闭打开的文件【返回BOOL】</p><p>&nbsp; &nbsp; &nbsp; 3.fwrite($handle,&quot;$data&quot;)//把$data写入$handle文件,先清空后写入，【成功返回$handle，失败返回false】</p><p>&nbsp; &nbsp; &nbsp; 4.<span style=\"background-color:rgb(255,204,0)\">fi</span><span style=\"background-color:rgb(255,153,0)\">le_put_contents($filename,$data);</span>//它是上边三个合起来的效果</p><p>&nbsp; &nbsp; &nbsp; 5<span style=\"background-color:rgb(255,204,0)\">.file_get_contents($filename)//</span>读取文件里的信息【返回字符串】</p><p>&nbsp; &nbsp; &nbsp; 6.flock($handle,$operation) &nbsp; &nbsp;//用$operation锁定文件$handle</p><p>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p><p>&nbsp; &nbsp; &nbsp; 1.copy($file1,$file2);//赋值$file1，形成$file2【返回BOOL】</p><p>&nbsp; &nbsp; &nbsp;<span style=\"background-color:rgb(255,204,0)\">&nbsp;2.unlink($file);/</span>/删除$file文件【返回BOOL】</p><p>&nbsp; &nbsp; &nbsp; 3.rename($file1,$file_new_name);//重命名【返回BOOL】</p><p><br/></p><p>&nbsp; &nbsp;文件的上传</p><p>&nbsp; &nbsp; &nbsp; &nbsp;1.<span style=\"line-height: 1.5;\">is_upload_file($_FILES[&#39;file&#39;][&#39;tmp_name&#39;]) //检查是否合法</span></p><p><span style=\"widows:auto\">&nbsp; &nbsp; &nbsp; &nbsp;2.move_upload_file($_FILES[&#39;file&#39;][&#39;tmp_name&#39;],$url); //上传合法文件到$url</span></p><p><span style=\"line-height: 1.5;\"></span></p><pre style=\"font-family:宋体; font-size:12pt; background-color:rgb(255,255,255)\"><br/></pre><p>&nbsp; &nbsp; &nbsp; 注意：<span style=\"line-height: 1.5;\">html:form: method=&quot;post&quot; ;enctype=&quot;multipart/form-data&quot;</span></p><pre style=\"font-family:宋体; font-size:12pt; background-color:rgb(255,255,255)\"><br/></pre><p>&nbsp;&nbsp;&nbsp;文件下载</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;header(&#39;content-disposition:attachment;filename=&#39;.basename($filename));//表示附件方式下载</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;header(&#39;content-length:&#39;.filesize($filename));</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;readfile($filename);</p><p><br/></p><p>&nbsp; &nbsp;</p><hr/><p><br/></p><p><span style=\"font-size:22px\">SQL函数</span></p><p>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;1.mysql_connect(&#39;localhost&#39;,&quot;root&quot;,&quot;root&quot;);//连接诶数据库</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 2.mysql_select_db(&#39;data&#39;,$conn);//选择数据库名</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 3.mysql_query(&#39;set names utf8&#39;);//设置编码</p><p>&nbsp; &nbsp;&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 4.mysql_affect_array();//试返回值为关联/索引数组</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 5.mysql_affect_row();//返回索引数组</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 6.mysql_affect_assoc();//返回关联数组</p><p><br/></p><p>&nbsp; &nbsp; &nbsp; &nbsp; 7.mysql_num_rows();//返回上一次select的查询语句条数</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 8.mysql_affected_rows();//返回上一次insert,update,delete的数据条数</p><p><br/></p><p>&nbsp; &nbsp; &nbsp; &nbsp; 9.mysql_close();//关闭数据库</p><hr/><p><br/></p><p><span style=\"font-size:22px\">数学函数</span></p><p>&nbsp; &nbsp; 1.ceil()//向上取整</p><p>&nbsp; &nbsp; 2.floor()//向下取整</p><p>&nbsp; &nbsp; 3.round();//四舍五入</p><p>&nbsp; &nbsp; 4.abs();//取绝对值<br/></p><p>&nbsp; &nbsp; 5.rand(10，100)//随机取值</p><p>&nbsp; &nbsp; 6.mt_rand(10,100)//随机取值，算法不同，速度更快</p><p>&nbsp; &nbsp; 7.fmod()//返回除法浮点形余数</p><p>&nbsp; &nbsp; 8.max(int/$arr)//取最大值</p><p>&nbsp; &nbsp; 9.min(int/$arr)//取最小值</p><p>&nbsp; &nbsp; 10.pow(1024,2)//返回1021的2次幂</p><hr/><p><br/></p><p><span style=\"font-size:22px\">时间函数</span></p><p>1.date_default_timezone_set()(&#39;PRC&#39;);//设置时区为中国<br/></p><p>&nbsp; &nbsp;date.timezone =&quot;PRC&quot;;//PHP.INI<br/></p><p>2.time();//默认获取当前时间，【返回时间戳格式】</p><p>3.micritime();//获取当前时间【返回毫秒的时间戳】</p><p>4.mktime(H,i,s,m,d,Y)//指定时间转为时间戳，参数为空的时候作用与time()相同【返回时间戳格式】</p><p>5.strtotime(&#39;2015-10-10 10:10:10&#39;);//指定时间转换为时间戳【返回时间戳】</p><p>6.date(&quot;Y-m-d H:i:s&quot;,time());//转换时间戳为日期格式【返回目标格式的字符串】</p><p>7.getdate()//获取当前时间，【返回一个数组，参数年，月，日等都有】</p><hr/><p><br/></p><p><span style=\"font-size:22px\">URL处理函数</span></p><p>1.urlencode($url)//对该URL进行编码；原因：防止乱码，解决空格的呢个字符不能传递问题，form也是此编码格式传递<br/></p><p>2.urldecode($url)//对该URL进行解码</p><p>3<span style=\"background-color: orange;\">.parse_url($url)</span>//返回该URL的所有信息，<span style=\"color: rgb(68, 68, 68); font-family: &#39;Microsoft YaHei&#39;, SimSun, &#39;Arial Narrow&#39;;\">[scheme协议][host域名]&nbsp;[path路径][query参数]&nbsp;&nbsp;</span>【返回含信息的数组】</p><p>&nbsp; &nbsp;<span style=\"background-color: orange;\">pathinfo($url)</span>//<span style=\"color: rgb(68, 68, 68); font-family: &#39;Microsoft YaHei&#39;, SimSun, &#39;Arial Narrow&#39;;\">[&quot;dirname&quot;目录名]&nbsp;[&quot;basename&quot;文件名]&nbsp;[&quot;extension&quot;文件后缀]</span>【返回含信息的数组，下标不同】</p><p>4.get_meta_tags($url)//获取该页面的所有META标签【返回关联数组】</p><p><br/></p><hr/><p><br/></p><p><span style=\"font-size:22px\">JSON</span></p><p>1.json_encode($data);//对变量进行JSON编码</p><p>2.json_decode($data)//对JSON格式的字符串进行解码</p><p>3.json_last_error();//返回最后一次反生的错误</p><hr/><p><br/></p><p><span style=\"font-size:22px\">其他函数</span></p><p>sleep(10)//脚本执行到这里后，延迟10秒继续执行</p><p>serialize()//<span style=\"color:rgb(51,51,51); font-family:&#39;Fira Sans&#39;,&#39;Source Sans Pro&#39;,Helvetica,Arial,sans-serif; font-size:16px; background-color:rgb(242,242,242)\">返回字符串，此字符串包含了表示<span style=\"background-color:inherit\">&nbsp;</span></span><code style=\"font-family:&#39;Fira Mono&#39;,&#39;Source Code Pro&#39;,monospace; color:rgb(51,102,153); font-size:16px; font-weight:700; background-color:rgb(242,242,242)\">value</code><span style=\"color:rgb(51,51,51); font-family:&#39;Fira Sans&#39;,&#39;Source Sans Pro&#39;,Helvetica,Arial,sans-serif; font-size:16px; background-color:rgb(242,242,242)\"><span style=\"background-color:inherit\">&nbsp;</span>的字节流，可以存储于任何地方。</span></p><p>unserialize()//<span style=\"color:rgb(51,51,51); font-family:&#39;Fira Sans&#39;,&#39;Source Sans Pro&#39;,Helvetica,Arial,sans-serif; font-size:16px; background-color:rgb(242,242,242)\">对单一的已序列化的变量进行操作，将其转换回 PHP 的值。</span></p><p>&nbsp; &nbsp; &nbsp;&nbsp;<span style=\"color:rgb(51,51,51); font-family:&#39;Fira Sans&#39;,&#39;Source Sans Pro&#39;,Helvetica,Arial,sans-serif; font-size:16px; background-color:rgb(242,242,242)\">当序列化对象时，PHP 将试图在序列动作之前调用</span><span style=\"color:rgb(51,51,51); font-family:&#39;Fira Sans&#39;,&#39;Source Sans Pro&#39;,Helvetica,Arial,sans-serif; font-size:16px; background-color:rgb(242,242,242)\">该对象的成员函数<span style=\"background-color:inherit\">&nbsp;</span></span><span style=\"color:rgb(51,51,51); font-family:&#39;Fira Sans&#39;,&#39;Source Sans Pro&#39;,Helvetica,Arial,sans-serif; font-size:16px; background-color:rgb(242,242,242)\"><span style=\"background-color:inherit\">__sleep()</span></span><span style=\"color:rgb(51,51,51); font-family:&#39;Fira Sans&#39;,&#39;Source Sans Pro&#39;,Helvetica,Arial,sans-serif; font-size:16px; background-color:rgb(242,242,242)\">。这样就允许对象在被序列化之前做任何清除操作。类似的，当使用<span style=\"background-color:inherit\">&nbsp;</span></span><span style=\"color:rgb(51,51,51); font-family:&#39;Fira Sans&#39;,&#39;Source Sans Pro&#39;,Helvetica,Arial,sans-serif; font-size:16px; background-color:rgb(242,242,242)\"><a target=\"_blank\" href=\"http://php.net/manual/zh/function.unserialize.php\" rel=\"nofollow\" style=\"background-color:inherit; color:rgb(51,102,153)\">unserialize()</a></span><span style=\"color:rgb(51,51,51); font-family:&#39;Fira Sans&#39;,&#39;Source Sans Pro&#39;,Helvetica,Arial,sans-serif; font-size:16px; background-color:rgb(242,242,242)\"><span style=\"background-color:inherit\">&nbsp;</span>恢复对象时，\r\n 将调用<span style=\"background-color:inherit\">&nbsp;</span></span><span style=\"color:rgb(51,51,51); font-family:&#39;Fira Sans&#39;,&#39;Source Sans Pro&#39;,Helvetica,Arial,sans-serif; font-size:16px; background-color:rgb(242,242,242)\"><span style=\"background-color:inherit\">__wakeup()</span></span><span style=\"color:rgb(51,51,51); font-family:&#39;Fira Sans&#39;,&#39;Source Sans Pro&#39;,Helvetica,Arial,sans-serif; font-size:16px; background-color:rgb(242,242,242)\"><span style=\"background-color:inherit\">&nbsp;</span>成员函数。</span></p><p><br/></p><p><br/></p><p>转载自：https://blog.csdn.net/ty_hf/article/details/49641921</p>', '1530003695', 'STRU', '15', '4');

-- ----------------------------
-- Table structure for category
-- ----------------------------
DROP TABLE IF EXISTS `category`;
CREATE TABLE `category` (
  `cate_id` int(11) NOT NULL AUTO_INCREMENT,
  `cate_name` varchar(50) DEFAULT NULL,
  `cate_title` varchar(255) DEFAULT NULL,
  `cate_keywords` varchar(255) DEFAULT NULL,
  `cate_description` varchar(255) DEFAULT NULL,
  `cate_view` int(10) DEFAULT NULL,
  `cate_order` tinyint(20) DEFAULT '0',
  `cate_pid` int(11) unsigned zerofill DEFAULT '00000000000',
  PRIMARY KEY (`cate_id`)
) ENGINE=InnoDB AUTO_INCREMENT=22 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of category
-- ----------------------------
INSERT INTO `category` VALUES ('1', '学海无涯', '常用知识及专业知识学习', '常识、IT、学习', '常用知识及专业知识学习，注重专业知识学习', null, '1', '00000000000');
INSERT INTO `category` VALUES ('2', '生活随心', '生活经验总结分享分类', null, null, null, '3', '00000000000');
INSERT INTO `category` VALUES ('4', 'PHP学习', 'PHP相关知识学习', null, null, null, '1', '00000000001');
INSERT INTO `category` VALUES ('11', 'MYSQL学习', '通过学习mysql来获取数据库的数据', 'mysql，学习', '通过学习mysql来获取数据库的数据以及对数据进行各种处理', null, '4', '00000000001');
INSERT INTO `category` VALUES ('12', 'Redius学习', '通过学习Redius来达到提高页面访问效率', 'Redius,学习', '通过学习Redius来达到提高页面访问效率', null, '5', '00000000001');
INSERT INTO `category` VALUES ('17', '生活常识', '生活常用小知识', '生活、常识', '生活常用小知识', null, '1', '00000000002');
INSERT INTO `category` VALUES ('18', '生活感悟', '对生活的感悟', '生活、感悟、感慨', '对生活的感悟', null, '2', '00000000002');
INSERT INTO `category` VALUES ('19', '计算机硬件', '计算机硬件', '计算机硬件', '计算机硬件', null, '6', '00000000001');
INSERT INTO `category` VALUES ('20', 'Linux学习', 'Linux', 'Linux', 'Linux', null, '5', '00000000001');
INSERT INTO `category` VALUES ('21', 'web前端技术/计算机技术', 'web前端技术以及计算机技术的结合所产生的具有研究意义的技术', 'web前端技术  计算机技术', 'web前端技术以及计算机技术的结合所产生的具有研究意义的技术', null, '7', '00000000001');

-- ----------------------------
-- Table structure for config
-- ----------------------------
DROP TABLE IF EXISTS `config`;
CREATE TABLE `config` (
  `conf_id` int(11) NOT NULL AUTO_INCREMENT,
  `conf_title` varchar(50) DEFAULT '' COMMENT '//标题',
  `conf_name` varchar(50) DEFAULT '' COMMENT '//变量名',
  `conf_content` text COMMENT '//变量值',
  `conf_order` int(11) DEFAULT '0' COMMENT '//排序',
  `conf_tips` varchar(255) DEFAULT '' COMMENT '//描述',
  `field_type` varchar(50) DEFAULT '' COMMENT '//字段类型',
  `field_value` varchar(255) DEFAULT '' COMMENT '//类型值',
  PRIMARY KEY (`conf_id`)
) ENGINE=InnoDB AUTO_INCREMENT=16 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of config
-- ----------------------------
INSERT INTO `config` VALUES ('9', '网站名称', 'web_name', 'StruPHP博客', '3', '网站名称', 'input', '');
INSERT INTO `config` VALUES ('10', '网站统计', 'web_count', '<script>\r\nvar _hmt = _hmt || [];\r\n(function() {\r\n  var hm = document.createElement(\"script\");\r\n  hm.src = \"https://hm.baidu.com/hm.js?f0e04ee38373b936316c3b352f1541d2\";\r\n  var s = document.getElementsByTagName(\"script\")[0]; \r\n  s.parentNode.insertBefore(hm, s);\r\n})();\r\n</script>\r\n', '2', '网站访问情况统计', 'textarea', '');
INSERT INTO `config` VALUES ('11', '网站状态', 'web_status', '1', '1', '网站开关状态', 'radio', '1|开启,0|关闭');
INSERT INTO `config` VALUES ('12', '辅助标题', 'seo_title', '卓越成就梦想  技术成就生活', '4', '', 'input', '');
INSERT INTO `config` VALUES ('13', '关键词', 'keywords', '个人博客,技术博客，生活博客', '5', '', 'input', '');
INSERT INTO `config` VALUES ('14', '网站描述', 'description', '个人博客、技术博客、生活博客、博客、生活、技术、IT、PHP、优雅、稳重、大气,低调。', '5', '', 'textarea', '');
INSERT INTO `config` VALUES ('15', '版权信息', 'coypright', 'Design by StruPHP <a href=\"http://www.struphp.com\" target=\"_blank\">http://www.struphp.com</a> ', '7', '', 'textarea', '');

-- ----------------------------
-- Table structure for links
-- ----------------------------
DROP TABLE IF EXISTS `links`;
CREATE TABLE `links` (
  `link_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `link_name` varchar(255) COLLATE utf8_unicode_ci NOT NULL DEFAULT '' COMMENT '//名称',
  `link_title` varchar(255) COLLATE utf8_unicode_ci NOT NULL DEFAULT '' COMMENT '//标题',
  `link_url` varchar(255) COLLATE utf8_unicode_ci NOT NULL DEFAULT '' COMMENT '//链接',
  `link_order` int(11) NOT NULL DEFAULT '0' COMMENT '//排序',
  PRIMARY KEY (`link_id`)
) ENGINE=MyISAM AUTO_INCREMENT=11 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- ----------------------------
-- Records of links
-- ----------------------------
INSERT INTO `links` VALUES ('7', 'StruPHP网', '个人PHP自学平台', 'http://www.struphp.com', '1');
INSERT INTO `links` VALUES ('8', '百度', '只有你想不到de没有它搜不到的', 'http://www.baidu.com', '3');
INSERT INTO `links` VALUES ('9', 'PHP第一社区', '中国最大的PHP开源社区', 'http://www.php1.cn/', '2');

-- ----------------------------
-- Table structure for navs
-- ----------------------------
DROP TABLE IF EXISTS `navs`;
CREATE TABLE `navs` (
  `nav_id` int(11) NOT NULL AUTO_INCREMENT,
  `nav_name` varchar(50) DEFAULT '' COMMENT '//名称',
  `nav_alias` varchar(50) DEFAULT '' COMMENT '//别名',
  `nav_url` varchar(255) DEFAULT '' COMMENT '//url',
  `nav_order` int(11) DEFAULT '0' COMMENT '//排序',
  PRIMARY KEY (`nav_id`)
) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of navs
-- ----------------------------
INSERT INTO `navs` VALUES ('8', '首页', 'Index', 'http://www.struphp.com/', '1');
INSERT INTO `navs` VALUES ('9', '学海无涯', 'Learn', 'http://www.struphp.com/cate/1', '2');
INSERT INTO `navs` VALUES ('10', '关于我们', 'Aboutus', 'http://www.struphp.com/aboutUs', '4');
INSERT INTO `navs` VALUES ('11', '生活随心', 'Life', 'http://www.struphp.com/cate/2', '3');
INSERT INTO `navs` VALUES ('14', '留言板', 'GustBook', 'http://www.struphp.com/#', '5');

-- ----------------------------
-- Table structure for user
-- ----------------------------
DROP TABLE IF EXISTS `user`;
CREATE TABLE `user` (
  `user_id` int(11) NOT NULL AUTO_INCREMENT,
  `user_name` varchar(30) DEFAULT NULL,
  `user_pass` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`user_id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of user
-- ----------------------------
INSERT INTO `user` VALUES ('1', 'admin', 'eyJpdiI6Ikc3enNMK1l4TExSMnhLMGVFNkY2TGc9PSIsInZhbHVlIjoid3lcL1JpMHRWU3BTRm5BTTk4alM5eVE9PSIsIm1hYyI6IjBmNGY1ZjQ0Mjk4ZmYwZmFkYzIxNDY5MTEyM2EyMDE5M2YwZTBmMmVmYzFmODkyODdjODkzNjk5MTEyZjA0ZTYifQ==');
INSERT INTO `user` VALUES ('2', 'root', 'eyJpdiI6Im9nZzMrSWZPZlwvQktxa2hReWF4c2VBPT0iLCJ2YWx1ZSI6InhtXC83RmhQVUFESE12K3hwTHNTVnVRPT0iLCJtYWMiOiI1MTkwZWVjNWVmYzNjYjY3MDc3OGQyMTJhNTUxYWFiN2U5OGYzZDU0MjBiYmNiYjFmYWEwN2MxNzg3MjQwY2UwIn0=');
